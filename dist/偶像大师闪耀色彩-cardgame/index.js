const e=new class{events=new Map;on(e,t){this.events.has(e)||this.events.set(e,[]),this.events.get(e).push(t)}off(e,t){const r=this.events.get(e);if(!r)return;const a=r.indexOf(t);-1!==a&&r.splice(a,1)}emit(e,...t){const r=this.events.get(e);if(r)for(const a of r)try{a(...t)}catch(t){console.error(`[EventBus] Error in ${e} handler:`,t)}}once(e,t){const r=(...a)=>{t(...a),this.off(e,r)};this.on(e,r)}clear(){this.events.clear()}clearEvent(e){this.events.delete(e)}},t={ATTRIBUTE_CHANGED:'attribute_changed',ALL_POWER_FULL:'all_power_full',STAMINA_CHANGED:'stamina_changed',GENKI_CHANGED:'genki_changed',BUFF_ADDED:'buff_added',BUFF_REMOVED:'buff_removed',BUFF_UPDATED:'buff_updated',SCORE_CHANGED:'score_changed',CARD_USED:'card_used',CARD_DRAWN:'card_drawn',CARD_DISCARDED:'card_discarded',CARD_REMOVED:'card_removed',TURN_STARTED:'turn_started',TURN_ENDED:'turn_ended',BATTLE_STARTED:'battle_started',BATTLE_ENDED:'battle_ended',ANOMALY_STATE_CHANGED:'anomaly_state_changed',POINTER_LOCKED:'pointer_locked',POINTER_UNLOCKED:'pointer_unlocked'};class r{state;constructor(e){this.state=e}add(e,t){if(t<=0)return;const r=this.state.attributes[e]+t;this.state.attributes[e]=r,this.onAttributeChanged(e,t)}consume(e,t){if(t<=0)return!0;const r=this.state.attributes[e];return!(r<t)&&(this.state.attributes[e]=r-t,this.onAttributeChanged(e,-t),!0)}get(e){const t=this.state.attributes[e];return'number'==typeof t?t:0}set(e,t){const r=this.get(e);this.state.attributes[e]=Math.max(0,t);const a=t-r;0!==a&&this.onAttributeChanged(e,a)}onAttributeChanged(r,a){if(e.emit(t.ATTRIBUTE_CHANGED,{attributeName:r,delta:a,newValue:this.get(r)}),'allPower'===r){this.get('allPower')>=10&&this.triggerAllPowerTransform()}}triggerAllPowerTransform(){this.state.attributes.allPower=0,this.state.attributes.anomalyState='allout',this.state.attributes.stateLevel=1,e.emit(t.ALL_POWER_FULL,{planType:this.state.planType}),e.emit(t.ANOMALY_STATE_CHANGED,{oldState:null,newState:'allout',level:1})}switchAnomalyState(r,a=1){const f=this.state.attributes.anomalyState;this.state.attributes.anomalyState=r,this.state.attributes.stateLevel=a,e.emit(t.ANOMALY_STATE_CHANGED,{oldState:f,newState:r,level:a})}clearAnomalyState(){const r=this.state.attributes.anomalyState;r&&(this.state.attributes.anomalyState=null,this.state.attributes.stateLevel=1,e.emit(t.ANOMALY_STATE_CHANGED,{oldState:r,newState:null,level:1}))}lockPointer(){this.state.attributes.pointerLocked||(this.state.attributes.pointerLocked=!0,e.emit(t.POINTER_LOCKED))}unlockPointer(){this.state.attributes.pointerLocked&&(this.state.attributes.pointerLocked=!1,e.emit(t.POINTER_UNLOCKED))}reset(){this.state.attributes={concentration:0,motivation:0,goodImpression:0,allPower:0,heat:0,anomalyState:null,stateLevel:1,pointerLocked:!1,energy:0}}snapshot(){return{...this.state.attributes}}}class a{static addBuff(r,a){const f=r.buffs.get(a.id);f?(this.isStackableBuff(a.type)?f.stacks+=a.stacks:f.duration=a.duration,e.emit(t.BUFF_UPDATED,{buff:f})):(r.buffs.set(a.id,a),e.emit(t.BUFF_ADDED,{buff:a})),this.triggerBuffEffects(r,a,'buff_gained')}static removeBuff(r,a){const f=r.buffs.get(a);f&&(r.buffs.delete(a),this.triggerBuffEffects(r,f,'buff_lost'),e.emit(t.BUFF_REMOVED,{buff:f}))}static consumeBuff(r,a,f=1){const c=r.buffs.get(a);return!!c&&(c.stacks>0?(c.stacks-=f,c.stacks<=0?this.removeBuff(r,a):e.emit(t.BUFF_UPDATED,{buff:c}),!0):c.duration>0&&(c.duration-=f,c.duration<=0?this.removeBuff(r,a):e.emit(t.BUFF_UPDATED,{buff:c}),!0))}static updateBuffsOnTurnStart(r){const a=[];for(const[f,c]of r.buffs.entries())this.triggerBuffEffects(r,c,'turn_start'),c.duration>0&&(c.duration--,0===c.duration?a.push(f):e.emit(t.BUFF_UPDATED,{buff:c}));for(const e of a)this.removeBuff(r,e)}static updateBuffsOnTurnEnd(e){for(const t of e.buffs.values())this.triggerBuffEffects(e,t,'turn_end')}static triggerBuffEffects(e,t,r,a){for(const f of t.effects)if(f.trigger===r)try{f.effect(e,a)}catch(e){console.error(`[BuffManager] Error executing ${t.name} effect:`,e)}}static getBuffEffect(e,t){let r=0;for(const a of e.buffs.values())a.type===t&&(r+=a.stacks||1);return r}static hasBuff(e,t){for(const r of e.buffs.values())if(r.type===t)return!0;return!1}static getBuff(e,t){return e.buffs.get(t)}static getPositiveBuffs(e){return Array.from(e.buffs.values()).filter(e=>'positive'===e.category)}static getNegativeBuffs(e){return Array.from(e.buffs.values()).filter(e=>'negative'===e.category)}static clearNegativeBuffs(e){const t=this.getNegativeBuffs(e);for(const r of t)this.removeBuff(e,r.id)}static clearAllBuffs(e){const t=Array.from(e.buffs.keys());for(const r of t)this.removeBuff(e,r)}static extendBuffDuration(r,a,f){const c=r.buffs.get(a);!c||c.duration<=0||(c.duration+=f,e.emit(t.BUFF_UPDATED,{buff:c}))}static isStackableBuff(e){return['concentration','good_impression'].includes(e)}static getBuffCount(e){return e.buffs.size}static snapshot(e){return Array.from(e.buffs.values()).map(e=>({...e}))}}class f{static recoverStamina(r,a){if(a<=0)return 0;const f=r.stamina;r.stamina=Math.min(r.maxStamina,r.stamina+a);const c=r.stamina-f;return e.emit(t.STAMINA_CHANGED,{delta:c,current:r.stamina,max:r.maxStamina}),c}static consumeStamina(r,a){if(a<=0)return!0;const f=this.getStaminaReduction(r),c=Math.max(0,a-f);return!(r.stamina<c)&&(r.stamina-=c,e.emit(t.STAMINA_CHANGED,{delta:-c,current:r.stamina,max:r.maxStamina}),!0)}static gainGenki(r,a){if(a<=0)return 0;const f=.01*this.getGenkiBoost(r),c=Math.floor(a*(1+f)),s=r.genki;r.genki=Math.min(100,r.genki+c);const i=r.genki-s;return e.emit(t.GENKI_CHANGED,{delta:i,current:r.genki,max:100}),i}static consumeGenki(r,a){return a<=0||!(r.genki<a)&&(r.genki-=a,e.emit(t.GENKI_CHANGED,{delta:-a,current:r.genki,max:100}),!0)}static getStaminaReduction(e){let t=0;for(const r of e.buffs.values())'stamina_reduction'===r.type&&(t+=r.stacks||1);return t}static getGenkiBoost(e){let t=0;for(const r of e.buffs.values())('genki_boost'===r.type||'motivated'===r.type)&&(t+=30);return t}static setStamina(r,a){const f=r.stamina;r.stamina=Math.max(0,Math.min(r.maxStamina,a));const c=r.stamina-f;0!==c&&e.emit(t.STAMINA_CHANGED,{delta:c,current:r.stamina,max:r.maxStamina})}static setGenki(r,a){const f=r.genki;r.genki=Math.max(0,Math.min(100,a));const c=r.genki-f;0!==c&&e.emit(t.GENKI_CHANGED,{delta:c,current:r.genki,max:100})}static increaseMaxStamina(r,a){a<=0||(r.maxStamina+=a,e.emit(t.STAMINA_CHANGED,{delta:0,current:r.stamina,max:r.maxStamina}))}static hasEnoughResources(e,t,r){const a=this.getStaminaReduction(e),f=Math.max(0,t-a);return e.stamina>=f&&e.genki>=r}static snapshot(e){return{stamina:e.stamina,maxStamina:e.maxStamina,genki:e.genki}}}const c={好調:(e=3)=>({id:'good_condition',name:'好調',type:'good_condition',category:'positive',stacks:0,duration:e,effects:[{trigger:'score_calculated',effect:e=>{e.score.current=Math.floor(1.5*e.score.current)}}],iconUrl:'https://raw.githubusercontent.com/2426269/shinycolors-assets-cdn/main/游戏图标/好调.png',color:'#4CAF50'}),集中:(e=1)=>({id:'concentration',name:'集中',type:'concentration',category:'positive',stacks:e,duration:-1,effects:[{trigger:'score_calculated',effect:e=>{const t=e.buffs.get('concentration');if(t){const r=15*t.stacks;e.score.current+=r}}}],iconUrl:'https://raw.githubusercontent.com/2426269/shinycolors-assets-cdn/main/游戏图标/集中.png',color:'#2196F3'}),絶好調:(e=3)=>({id:'excellent_condition',name:'絶好調',type:'excellent_condition',category:'positive',stacks:0,duration:e,effects:[{trigger:'score_calculated',effect:e=>{e.score.current=Math.floor(2*e.score.current)}}],iconUrl:'https://raw.githubusercontent.com/2426269/shinycolors-assets-cdn/main/游戏图标/好调.png',color:'#FF9800'}),状态良好:(e=2)=>({id:'state_good',name:'状态良好',type:'state_good',category:'positive',stacks:0,duration:e,effects:[{trigger:'score_calculated',effect:e=>{e.score.current=Math.floor(1.2*e.score.current)}}],color:'#8BC34A'}),状态绝佳:(e=3)=>({id:'great_condition',name:'状态绝佳',type:'great_condition',category:'positive',stacks:0,duration:e,effects:[{trigger:'score_calculated',effect:e=>{e.score.current=Math.floor(1.8*e.score.current)}}],color:'#FFC107'}),好印象:(r=1)=>({id:'good_impression',name:'好印象',type:'good_impression',category:'positive',stacks:r,duration:-1,effects:[{trigger:'turn_end',effect:r=>{const a=r.buffs.get('good_impression');if(a){const f=10*a.stacks;r.score.current+=f,e.emit(t.SCORE_CHANGED,{delta:f,source:'good_impression'})}}}],iconUrl:'https://raw.githubusercontent.com/2426269/shinycolors-assets-cdn/main/游戏图标/好印象.png',color:'#9C27B0'}),有干劲:(e=3)=>({id:'motivated',name:'有干劲',type:'motivated',category:'positive',stacks:0,duration:e,effects:[],iconUrl:'https://raw.githubusercontent.com/2426269/shinycolors-assets-cdn/main/游戏图标/干劲.png',color:'#F44336'}),全力状态:(e=1)=>({id:`allout_state_${e}`,name:`全力状态（${1===e?'一阶段':'二阶段'}）`,type:1===e?'allout_state':'allout_state_2',category:'positive',stacks:e,duration:3,effects:[{trigger:'score_calculated',effect:t=>{t.score.current=1===e?Math.floor(3*t.score.current):Math.floor(4*t.score.current)}}],iconUrl:'https://raw.githubusercontent.com/2426269/shinycolors-assets-cdn/main/游戏图标/全力.png',color:'#E91E63'}),温存状态:(e=1)=>({id:`conserve_state_${e}`,name:`温存状态（${1===e?'一阶段':'二阶段'}）`,type:1===e?'conserve_state':'conserve_state_2',category:'positive',stacks:e,duration:3,effects:[{trigger:'turn_end',effect:t=>{const r=1===e?2:3;t.attributes.heat+=r}}],color:'#00BCD4'}),强气状态:(e=1)=>({id:`resolute_state_${e}`,name:`强气状态（${1===e?'一阶段':'二阶段'}）`,type:1===e?'resolute_state':'resolute_state_2',category:'positive',stacks:e,duration:3,effects:[{trigger:'card_used',effect:t=>{const r=1===e?1:2;t.attributes.allPower+=r}}],iconUrl:'https://raw.githubusercontent.com/2426269/shinycolors-assets-cdn/main/游戏图标/强气.png',color:'#FF5722'}),体力消耗减少:(e=1,t=3)=>({id:'stamina_reduction',name:`体力消耗-${e}`,type:'stamina_reduction',category:'positive',stacks:e,duration:t,effects:[],color:'#4CAF50'}),元气获取增加:(e=3)=>({id:'genki_boost',name:'元气获取+30%',type:'genki_boost',category:'positive',stacks:0,duration:e,effects:[],color:'#FFEB3B'}),得分增加:(e=20,t=3)=>({id:'score_boost',name:`得分+${e}%`,type:'score_boost',category:'positive',stacks:e,duration:t,effects:[{trigger:'score_calculated',effect:e=>{const t=e.buffs.get('score_boost');if(t){const r=1+t.stacks/100;e.score.current=Math.floor(e.score.current*r)}}}],color:'#FFC107'}),下一张卡效果x2:()=>({id:'double_effect',name:'下一张卡效果×2',type:'double_effect',category:'positive',stacks:1,duration:1,effects:[],color:'#9C27B0'}),疲劳:(e=2)=>({id:'tired',name:'疲劳',type:'tired',category:'negative',stacks:0,duration:e,effects:[{trigger:'score_calculated',effect:e=>{e.score.current=Math.floor(.8*e.score.current)}}],color:'#757575'}),体力流失:(r=3)=>({id:'stamina_drain',name:'体力流失',type:'stamina_drain',category:'negative',stacks:5,duration:r,effects:[{trigger:'turn_start',effect:r=>{const a=r.buffs.get('stamina_drain');a&&(r.stamina=Math.max(0,r.stamina-a.stacks),e.emit(t.STAMINA_CHANGED,{delta:-a.stacks,current:r.stamina,max:r.maxStamina}))}}],color:'#F44336'})};function s(e,...t){const r=c[e];if(!r)return console.error(`[BuffPresets] Unknown buff type: ${e}`),null;try{return r(...t)}catch(t){return console.error(`[BuffPresets] Error creating buff ${e}:`,t),null}}class i{state;attributeManager;constructor(e){this.state=e,this.attributeManager=new r(e)}async executeCard(r){const f={success:!1,changes:{}};try{if(!this.canUseCard(r))return f.message='无法使用该卡牌',f;if(!this.consumeCardCost(r))return f.message='资源不足',f;const c=a.hasBuff(this.state,'double_effect'),s=c?2:1;for(let e=0;e<s;e++)for(const e of r.effects){const t=await this.executeEffect(e,r);this.mergeResults(f,t)}c&&a.consumeBuff(this.state,'double_effect'),e.emit(t.CARD_USED,{card:r,result:f});for(const e of this.state.buffs.values())a.triggerBuffEffects(this.state,e,'card_used',{card:r});return f.success=!0,f}catch(e){return console.error('[SkillCardExecutor] Error executing card:',e),f.message=`执行失败: ${e}`,f}}async executeEffect(e,t){const r={success:!0,changes:{}};try{switch(e.type){case'score_multiplier':this.executeScoreMultiplier(e,r);break;case'gain_stamina':this.executeGainStamina(e,r);break;case'gain_genki':this.executeGainGenki(e,r);break;case'add_buff':this.executeAddBuff(e,r);break;case'draw_cards':this.executeDrawCards(e,r);break;case'extra_card_use':this.executeExtraCardUse(e,r);break;case'extra_turn':this.executeExtraTurn(e,r);break;case'gain_all_power':this.executeGainAllPower(e,r);break;case'gain_heat':this.executeGainHeat(e,r);break;case'change_anomaly_state':this.executeChangeAnomalyState(e,r);break;case'lock_pointer':this.executeLockPointer(e,r);break;case'consume_stamina':this.executeConsumeStamina(e,r);break;case'consume_concentration':this.executeConsumeConcentration(e,r);break;case'consume_motivation':this.executeConsumeMotivation(e,r);break;case'consume_all_power':this.executeConsumeAllPower(e,r);break;case'consume_buff':this.executeConsumeBuff(e,r);break;case'amplify_score':this.executeAmplifyScore(e,r);break;case'amplify_good_impression':this.executeAmplifyGoodImpression(e,r);break;case'conditional_effect':await this.executeConditionalEffect(e,t,r);break;case'chain_effect':await this.executeChainEffect(e,t,r);break;case'special_effect':this.executeSpecialEffect(e,r);break;default:console.warn(`[SkillCardExecutor] Unknown effect type: ${e.type}`)}}catch(t){console.error(`[SkillCardExecutor] Error executing effect ${e.type}:`,t),r.success=!1,r.message=`效果执行失败: ${t}`}return r}executeScoreMultiplier(r,a){const{attribute:f,multiplier:c}=r.metadata,s=this.state.stats[f],i=Math.floor(s*c);this.state.score.current+=i,a.changes.score=(a.changes.score||0)+i,e.emit(t.SCORE_CHANGED,{delta:i,source:'skill_card',attribute:f})}executeGainStamina(e,t){const r=e.value||0,a=f.recoverStamina(this.state,r);t.changes.stamina=(t.changes.stamina||0)+a}executeGainGenki(e,t){const r=e.value||0,a=f.gainGenki(this.state,r);t.changes.genki=(t.changes.genki||0)+a}executeAddBuff(e,t){const{type:r,stacks:f,duration:s}=e.metadata;let i=null;r in c&&(i=c[r](f||s)),i&&(a.addBuff(this.state,i),t.changes.buffsAdded=t.changes.buffsAdded||[],t.changes.buffsAdded.push({type:r,stacks:i.stacks}))}executeDrawCards(r,a){const f=r.value||1;let c=0;for(let r=0;r<f&&!(this.state.hand.length>=5)&&0!==this.state.deck.length;r++){const r=this.state.deck.shift();this.state.hand.push(r),c++,e.emit(t.CARD_DRAWN,{card:r})}a.changes.cardsDrawn=c}executeExtraCardUse(e,t){const r=e.value||1;this.state.turnState.maxCardsPerTurn+=r}executeExtraTurn(e,t){const r=e.value||1;this.state.maxTurns+=r}executeGainAllPower(e,t){const r=e.value||1;this.attributeManager.add('allPower',r)}executeGainHeat(e,t){const r=e.value||1;this.attributeManager.add('heat',r)}executeChangeAnomalyState(e,t){const{newState:r,level:a}=e.metadata;this.attributeManager.switchAnomalyState(r,a||1)}executeLockPointer(e,t){this.attributeManager.lockPointer()}executeConsumeStamina(e,t){const r=e.value||0;f.consumeStamina(this.state,r)||(t.success=!1,t.message='体力不足')}executeConsumeConcentration(e,t){const r=e.value||0;this.attributeManager.consume('concentration',r)||(t.success=!1,t.message='专注不足')}executeConsumeMotivation(e,t){const r=e.value||0;this.attributeManager.consume('motivation',r)||(t.success=!1,t.message='干劲不足')}executeConsumeAllPower(e,t){const r=e.value||0;this.attributeManager.consume('allPower',r)||(t.success=!1,t.message='全力值不足')}executeConsumeBuff(e,t){const{buffType:r,amount:f}=e.metadata;let c=0;for(const e of this.state.buffs.values())if(e.type===r){a.consumeBuff(this.state,e.id,f||1)&&c++}t.changes.buffsRemoved=t.changes.buffsRemoved||[],t.changes.buffsRemoved.push({type:r,stacks:c})}executeAmplifyScore(r,a){const f=r.value||1,c=this.state.score.current;this.state.score.current=Math.floor(c*f);const s=this.state.score.current-c;a.changes.score=(a.changes.score||0)+s,e.emit(t.SCORE_CHANGED,{delta:s,source:'amplify_score'})}executeAmplifyGoodImpression(r,a){const f=r.value||2;for(const r of this.state.buffs.values())'good_impression'===r.type&&(r.stacks=Math.floor(r.stacks*f),e.emit(t.BUFF_UPDATED,{buff:r}))}async executeConditionalEffect(e,t,r){const{condition:a,trueEffect:f,falseEffect:c}=e.metadata;if(this.checkCondition(a)){const e=await this.executeEffect(f,t);this.mergeResults(r,e)}else if(c){const e=await this.executeEffect(c,t);this.mergeResults(r,e)}}async executeChainEffect(e,t,r){const{effects:a}=e.metadata;for(const e of a){const a=await this.executeEffect(e,t);this.mergeResults(r,a)}}executeSpecialEffect(e,t){console.log('[SkillCardExecutor] Special effect:',e.metadata)}canUseCard(e){if(this.state.turnState.cardsUsed>=this.state.turnState.maxCardsPerTurn)return!1;const t=Math.abs(e.cost),r='stamina_only'===e.costType?Math.abs(e.cost):0;return f.hasEnoughResources(this.state,r,t)}consumeCardCost(e){const t=Math.abs(e.cost),r='stamina_only'===e.costType?Math.abs(e.cost):0;if(t>0){if(!f.consumeGenki(this.state,t))return!1}if(r>0){if(!f.consumeStamina(this.state,r))return!1}return!0}checkCondition(e){switch(e.type){case'has_buff':return a.hasBuff(this.state,e.buffType);case'has_no_buff':return!a.hasBuff(this.state,e.buffType);case'stamina_above':return this.state.stamina>(e.value||0);case'stamina_below':return this.state.stamina<(e.value||0);case'genki_above':return this.state.genki>(e.value||0);case'genki_below':return this.state.genki<(e.value||0);case'concentration_above':return this.attributeManager.get('concentration')>(e.value||0);case'motivation_above':return this.attributeManager.get('motivation')>(e.value||0);case'all_power_full':return this.attributeManager.get('allPower')>=10;case'anomaly_state_is':return this.state.attributes.anomalyState===e.value;case'cards_in_hand_above':return this.state.hand.length>(e.value||0);case'cards_in_discard_above':return this.state.discardPile.length>(e.value||0);case'turn_number_above':return this.state.currentTurn>(e.value||0);case'turn_number_below':return this.state.currentTurn<(e.value||0);default:return console.warn(`[SkillCardExecutor] Unknown condition type: ${e.type}`),!1}}mergeResults(e,t){if(!t.success)return e.success=!1,void(e.message=t.message);const r=e.changes,a=t.changes||{};a.score&&(r.score=(r.score||0)+a.score),a.stamina&&(r.stamina=(r.stamina||0)+a.stamina),a.genki&&(r.genki=(r.genki||0)+a.genki),a.cardsDrawn&&(r.cardsDrawn=(r.cardsDrawn||0)+a.cardsDrawn),a.buffsAdded&&(r.buffsAdded=[...r.buffsAdded||[],...a.buffsAdded]),a.buffsRemoved&&(r.buffsRemoved=[...r.buffsRemoved||[],...a.buffsRemoved])}}Vue;class o{state;attributeManager;executor;constructor(e){this.state=this.initializeBattleState(e),this.attributeManager=new r(this.state),this.executor=new i(this.state)}initializeBattleState(e){const t={id:`battle_${Date.now()}`,mode:e.mode,planType:e.planType,currentTurn:1,maxTurns:e.maxTurns||12,startTime:Date.now(),stamina:e.initialStamina||60,maxStamina:e.maxStamina||60,genki:0,attributes:{concentration:0,motivation:0,goodImpression:0,allPower:0,heat:0,anomalyState:null,stateLevel:1,pointerLocked:!1,energy:0},stats:{...e.stats},score:{current:0,target:e.targetScore||1e3,perfectTarget:e.perfectScore||2e3},buffs:new Map,deck:[...e.skillDeck],hand:[],discardPile:[],removedPile:[],turnState:{cardsUsed:0,maxCardsPerTurn:1,drawnThisTurn:0,attribute:null,skippedActions:0},support:e.support||null,history:[],metadata:{}};this.shuffleDeck(t.deck);for(let e=0;e<3;e++)this.drawCard(t);return t}start(){e.emit(t.BATTLE_STARTED,{battleId:this.state.id,mode:this.state.mode,planType:this.state.planType}),this.addHistoryEntry('战斗开始','',0,0,0)}async startTurn(){this.state.currentTurn>1&&this.state.currentTurn++,this.state.turnState={cardsUsed:0,maxCardsPerTurn:1,drawnThisTurn:0,attribute:'exam'===this.state.mode?this.determineExamAttribute():null,skippedActions:0},a.updateBuffsOnTurnStart(this.state);for(let e=0;e<2;e++)this.drawCard(this.state);e.emit(t.TURN_STARTED,{turn:this.state.currentTurn,maxTurns:this.state.maxTurns,attribute:this.state.turnState.attribute}),this.addHistoryEntry(`第${this.state.currentTurn}回合开始`,this.state.turnState.attribute?`本回合属性：${this.state.turnState.attribute}`:'',0,0,0)}async useCard(e){if(e<0||e>=this.state.hand.length)return console.error('[BattleController] Invalid card index'),!1;const t=this.state.hand[e],r=await this.executor.executeCard(t);return r.success?(this.state.hand.splice(e,1),this.state.discardPile.push(t),this.state.turnState.cardsUsed++,this.addHistoryEntry(`使用卡牌：${t.name}`,`${t.description}`,r.changes?.score||0,r.changes?.stamina||0,r.changes?.genki||0),!0):(console.error('[BattleController] Card execution failed:',r.message),!1)}async skipAction(){this.state.turnState.skippedActions++,f.gainGenki(this.state,5),this.addHistoryEntry('跳过行动','获得5元气',0,0,5),this.state.turnState.skippedActions>=3&&await this.endBattle()}async endTurn(){for(a.updateBuffsOnTurnEnd(this.state);this.state.hand.length>0;){const r=this.state.hand.shift();this.state.discardPile.push(r),e.emit(t.CARD_DISCARDED,{card:r})}e.emit(t.TURN_ENDED,{turn:this.state.currentTurn,score:this.state.score.current,stamina:this.state.stamina,genki:this.state.genki}),this.addHistoryEntry(`第${this.state.currentTurn}回合结束`,`当前得分：${this.state.score.current}`,0,0,0),this.shouldEndBattle()&&await this.endBattle()}async endBattle(){const r=Date.now(),a=Math.floor((r-this.state.startTime)/1e3),f=this.calculateEvaluation();let c,s;'exam'===this.state.mode&&(c=1,s=[]);const i=this.calculateRewards(f),o={mode:this.state.mode,evaluation:f,finalScore:this.state.score.current,targetScore:this.state.score.target,perfectScore:this.state.score.perfectTarget,turns:this.state.currentTurn,remainingStamina:this.state.stamina,cardsUsed:this.state.history.filter(e=>e.action.includes('使用卡牌')).length,buffsGained:this.state.history.filter(e=>e.action.includes('获得Buff')).length,rank:c,rivalScores:s,stats:{totalCardsUsed:this.state.history.filter(e=>e.action.includes('使用卡牌')).length,totalStaminaConsumed:-this.state.history.reduce((e,t)=>e+t.staminaChange,0),totalGenkiGained:this.state.history.reduce((e,t)=>e+t.genkiChange,0),totalBuffsGained:0,maxScore:Math.max(...this.state.history.map(e=>e.scoreChange)),averageScore:this.state.score.current/this.state.currentTurn,perfectTurns:0},rewards:i,startTime:this.state.startTime,endTime:r,duration:a};return e.emit(t.BATTLE_ENDED,{result:o}),this.addHistoryEntry('战斗结束',`最终得分：${this.state.score.current}`,0,0,0),o}drawCard(r){if(r.hand.length>=5)return;if(0===r.deck.length&&r.discardPile.length>0&&(r.deck=[...r.discardPile],r.discardPile=[],this.shuffleDeck(r.deck)),0===r.deck.length)return;const a=r.deck.shift();r.hand.push(a),r.turnState.drawnThisTurn++,e.emit(t.CARD_DRAWN,{card:a})}shuffleDeck(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}}determineExamAttribute(){return['vocal','dance','visual'][(this.state.currentTurn-1)%3]}shouldEndBattle(){return this.state.currentTurn>=this.state.maxTurns||this.state.stamina<=0}calculateEvaluation(){return this.state.score.current>=this.state.score.perfectTarget?'perfect':this.state.score.current>=this.state.score.target?'clear':'fail'}calculateRewards(e){const t='perfect'===e?2:'clear'===e?1:.5;return{pPoints:Math.floor(.1*this.state.score.current*t),pDrinks:[],pItems:[],skillCards:[],statGain:{vocal:Math.floor(10*Math.random()*t),dance:Math.floor(10*Math.random()*t),visual:Math.floor(10*Math.random()*t)},love:Math.floor(5*t)}}addHistoryEntry(e,t,r,a,f){this.state.history.push({turn:this.state.currentTurn,action:e,description:t,scoreChange:r,staminaChange:a,genkiChange:f,timestamp:Date.now()})}getState(){return this.state}getCurrentTurn(){return this.state.currentTurn}getHand(){return this.state.hand}getScore(){return this.state.score.current}getHistory(){return this.state.history}}const n=JSON.parse('{"非凡":{"SSR":[{"id":"1","name":"受け取ってくれる？","rarity":"SSR","effect_before":"温存に変更 以降、強気効果のスキルカード使用後、強気効果のスキルカードのパラメータ増加値+2 ※レッスン中1回 重複不可","effect_after":"温存に変更 以降、強気効果のスキルカード使用後、強気効果のスキルカードのパラメータ増加値+3 ※レッスン中1回 重複不可","cost":"3"},{"id":"2","name":"心・技・体","rarity":"SSR","effect_before":"強気2段階目に変更 パラメータ+7 全力値+3 消費体力減少2ターン ※レッスン中1回 重複不可","effect_after":"強気2段階目に変更 パラメータ+16 全力値+4 消費体力減少4ターン ※レッスン中1回 重複不可","cost":"8"},{"id":"3","name":"輝け！","rarity":"SSR","effect_before":"全力値+3 次のターン、温存に変更 全力の場合、パラメータ+20（2回） ※レッスン中1回 重複不可","effect_after":"全力値+4 次のターン、温存2段階目に変更 全力の場合、パラメータ+25（2回） ※レッスン中1回 重複不可","cost":"7"},{"id":"4","name":"クライマックス","rarity":"SSR","effect_before":"強気に変更 パラメータ+14（2回） 次のターン、温存に変更 ※レッスン中1回 重複不可","effect_after":"強気2段階目に変更 パラメータ+19（2回） 次のターン、温存2段階目に変更 ※レッスン中1回 重複不可","cost":"10"},{"id":"5","name":"全身全霊","rarity":"SSR","effect_before":"強気に変更 次に使用したスキルカードの消費体力を0にする（2回） スキルカード使用数追加+1 スキルカードを3枚引く ※レッスン中1回 重複不可","effect_after":"強気に変更 次に使用したスキルカードの消費体力を0にする（2回） スキルカード使用数追加+2 スキルカードを3枚引く ※レッスン中1回 重複不可","cost":"8"},{"id":"6","name":"アイドルになります","rarity":"SSR","effect_before":"全力値消費3 スキルカード使用数追加+1 手札のパラメータ上昇回数増加+1 ※レッスン中1回 重複不可","effect_after":"全力値消費3 元気+4 温存に変更 スキルカード使用数追加+1 手札のパラメータ上昇回数増加+1 ※レッスン中1回 重複不可","cost":"0"},{"id":"7","name":"頂点へ","rarity":"SSR","effect_before":"以降、ターン開始時、いずれかの指針の場合、全てのスキルカードのパラメータ値増加+4 ※レッスン中1回 重複不可","effect_after":"全てのスキルカードのパラメータ値増加+6 以降、ターン開始時、いずれかの指針の場合、全てのスキルカードのパラメータ値増加+4 ※レッスン中1回 重複不可","cost":"9"},{"id":"8","name":"覚悟","rarity":"SSR","effect_before":"体力消費4 元気+8 全力値+5 山札か捨札にあるスキルカードを選択し、保留に移動 ※レッスン中1回 重複不可","effect_after":"体力消費3 元気+8 全力値+7 山札か捨札にあるスキルカードを選択し、保留に移動 ※レッスン中1回 重複不可","cost":"0"},{"id":"9","name":"踏切の先に","rarity":"SSR","effect_before":"全力の場合使用可 パラメータ+10（3回） 次のターン、温存2段階目に変更 ※レッスン中1回 重複不可","effect_after":"全力の場合使用可 パラメータ+16（3回） 次のターン、温存2段階目に変更 ※レッスン中1回 重複不可","cost":"3"},{"id":"10","name":"新たなステージ","rarity":"SSR","effect_before":"山札か捨て札にあるスキルカードを選択し、保留に移動 全力値+1 スキルカード使用数追加+1 ※重複不可","effect_after":"山札か捨て札にあるスキルカードを選択し、保留に移動 全力値+2 スキルカード使用数追加+1 保留にあるスキルカードのパラメータ値増加+5 ※重複不可","cost":"3"},{"id":"11","name":"総合芸術","rarity":"SSR","effect_before":"いずれかの指針の場合、使用可 強気に変更 パラメータ+7 ［成長］指針を変更するたび、このスキルカードのパラメータ値増加+15（レッスン中4回） ※重複不可","effect_after":"いずれかの指針の場合、使用可 強気に変更 パラメータ+10 ［成長］指針を変更するたび、自身のパラメータ値増加+20（4回まで） ※重複不可","cost":"7"},{"id":"12","name":"翔び立て！","rarity":"SSR","effect_before":"全力値+3 パラメータ+10（このレッスン中に増加した全力値の100%分、パラメータ上昇量増加） ［成長］全力になった時、このスキルカードのパラメータ値増加+20（レッスン中1回） ※レッスン中1回 重複不可","effect_after":"全力値+4 パラメータ+10（累積全力値の150%分、パラメータ上昇量増加） ［成長］全力になった時、自身のパラメータ値増加+30（1回まで） ※レッスン中1回 重複不可","cost":"6"},{"id":"13","name":"きらきらプリズム","rarity":"SSR","effect_before":"温存の場合、使用可 強気2段階目に変更 以降、メンタルスキルカード使用時、強気2段階目の場合、強気効果のスキルカードのパラメータ増加値+7 ※レッスン中1回 重複不可","effect_after":"温存の場合、使用可 強気2段階目に変更 以降、メンタルスキルカード使用時、強気2段階目の場合、強気効果のスキルカードのパラメータ増加値+8 ※レッスン中1回 重複不可","cost":"6"},{"id":"14","name":"雨宿りのバス停","rarity":"SSR","effect_before":"温存に変更 全力値+3 次のターン、手札を全てレッスン中強化 ※レッスン中1回 重複不可","effect_after":"温存に2段階目に変更 全力値+4 次のターン、手札を全てレッスン中強化 ※レッスン中1回 重複不可","cost":"5"},{"id":"21","name":"頬張る3色","rarity":"SSR","effect_before":"強気に変更 全力値+5 全力効果のアクティブスキルカードのパラメータ値増加+2 次のターン、温存に変更 ※レッスン中1回 重複不可","effect_after":"強気に変更 全力値+5 全力効果のアクティブスキルカードのパラメータ値増加+4 次のターン、温存に変更 ※レッスン中1回 重複不可","cost":"7"},{"id":"22","name":"あの日、この場所で","rarity":"SSR","effect_before":"体力消費6 全力値+10 山札か捨札にあるスキルカードを2枚選択し、保留に移動 ※レッスン中1回 重複不可","effect_after":"体力消費4 全力値+10 山札か捨札にあるスキルカードを2枚選択し、保留に移動 ※レッスン中1回 重複不可","cost":"0"},{"id":"23","name":"対戦お願いします！","rarity":"SSR","effect_before":"山札か捨札にあるスキルカードを選択し、保留に移動 スキルカードを引く スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"元気消費0 山札か捨札にあるスキルカードを選択し、保留に移動 スキルカードを引く スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"2"},{"id":"24","name":"あたらしい光","rarity":"SSR","effect_before":"温存2段階目に変更 熱意追加+5 ※レッスン中1回 重複不可","effect_after":"温存2段階目に変更 熱意追加+8 ※レッスン中1回 重複不可","cost":"4"},{"id":"25","name":"屋上からの景色","rarity":"SSR","effect_before":"レッスン開始時手札に入る 全力値+2 全力効果のスキルカードのパラメータ値増加+4 以降、ターン開始時、温存の場合、のんびりに変更 ※レッスン中1回 重複不可","effect_after":"レッスン開始時手札に入る 全力値+3 全力効果のスキルカードのパラメータ値増加+9 以降、ターン開始時、温存の場合、のんびりに変更 ※レッスン中1回 重複不可","cost":"7"},{"id":"36","name":"おてつき注意！","rarity":"SSR","effect_before":"レッスン開始時手札に入る 以降の5ターンの間、ターン開始時、非強気状態の場合、強気に変更 ※レッスン中1回 重複不可","effect_after":"レッスン開始時手札に入る 以降の5ターンの間、ターン開始時、非強気状態の場合、強気に変更 スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"8"},{"id":"40","name":"放課後おしゃべり","rarity":"SSR","effect_before":"全力値+2 次のターン、パラメータ+8（このレッスン中に増加した全力値の300％分、パラメータ上昇量増加） ※レッスン中1回 重複不可","effect_after":"全力値+5 次のターン、パラメータ+8（累積全力値の300％分、パラメータ上昇量増加） ※レッスン中1回 重複不可 はげしく 画像はげしく\\t【強化前】 強気に変更 パラメータ+15 ※レッスン中1回 【強化後】 強気に変更 パラメータ+25 ※レッスン中1回","cost":"7"},{"id":"56","name":"一心不乱","rarity":"SSR","effect_before":"強気の場合、使用可 温存に変更 強気効果のスキルカードのパラメータ値増加+37・コスト値増加+7 ※レッスン中1回 重複不可","effect_after":"強気の場合、使用可 温存に変更 強気効果のスキルカードのパラメータ値増加+45・コスト値増加+7 ※レッスン中1回 重複不可","cost":"3"},{"id":"58","name":"次こそは、必ず","rarity":"SSR","effect_before":"体力消費6 レッスン開始時手札に入る 温存に変更 メンタルスキルカードの元気増加+8 ※レッスン中1回 重複不可","effect_after":"体力消費6 レッスン開始時手札に入る 温存に変更 メンタルスキルカードの元気増加+11 ※レッスン中1回 重複不可","cost":"0"},{"id":"59","name":"待ち望んだ瞬間","rarity":"SSR","effect_before":"温存2段階目に変更 以降、直接効果で全力値が増加後、温存の場合、全力値+1 ※レッスン中1回 重複不可","effect_after":"元気-1 温存2段階目に変更 以降、直接効果で全力値が増加後、温存の場合、全力値+1 ※レッスン中1回 重複不可","cost":"4"},{"id":"64","name":"バレンタイン大作戦！","rarity":"SSR","effect_before":"体力消費3 元気+4 温存に変更 以降の2ターンの、ターン開始時、温存に変更 重複不可レッスン中1回 ※レッスン中1回 重複不可","effect_after":"体力消費2に変更 元気+8 温存に変更 以降の2ターンの、ターン開始時、温存に変更 重複不可レッスン中1回 ※レッスン中1回 重複不可","cost":"0"},{"id":"65","name":"がんばった、よ","rarity":"SSR","effect_before":"全力値+4 山札か捨札にあるスキルカードを選択し、保留に移動 以降、ターン開始時、全力の場合、すべてのスキルカードのパラメータ増加値+2 ※レッスン中1回 重複不可","effect_after":"全力値+5 山札か捨札にあるスキルカードを選択し、保留に移動 以降、ターン開始時、全力の場合、すべてのスキルカードのパラメータ増加値+2 ※レッスン中1回 重複不可","cost":"5"},{"id":"66","name":"一番高い星","rarity":"SSR","effect_before":"強気に変更 パラメータ+3（2回） ［成長］強気効果のスキルカード使用後、このスキルカードのパラメータ値増加+10・コスト値増加+1（レッスン中2回） ※レッスン中1回 重複不可","effect_after":"強気に変更 パラメータ+6（2回） ［成長］強気効果のスキルカード使用後、自身のパラメータ値増加+15・コスト値増加+1（2回まで） ※レッスン中1回 重複不可","cost":"6"},{"id":"67","name":"日が差す方へ","rarity":"SSR","effect_before":"温存に変更、元気+5、熱意追加+8、メンタルスキルカードのコスト値増加+1・体力消費コスト値増加+1 ※強気の場合、使用可 重複不可","effect_after":"温存に変更、元気+8、熱意追加+10、メンタルスキルカードのコスト値増加+1・体力消費コスト値増加+1 ※強気の場合、使用可 重複不可","cost":"1"},{"id":"71","name":"でこれーとまじっく","rarity":"SSR","effect_before":"体力消費1 全力値+2 元気+6 累積全力値の100％分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"体力消費1 全力値+2 元気+9 累積全力値の150％分パラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"72","name":"泥臭くあれ！","rarity":"SSR","effect_before":"強気に変更、パラメーター+10、元気+5、次のターン、温存に変更、成長：直接効果で強気になった時、自身のパラメーター値増加+4(4回まで)元気+10(レッスン内1回) ※レッスン中1回 重複不可","effect_after":"元気-6、強気に変更、パラメーター+10、元気+10、次のターン、温存に変更、成長：直接効果で強気になった時、自身のパラメーター値増加+4(4回まで)元気+10(レッスン内1回) ※レッスン中1回 重複不可","cost":"8"}],"SR":[{"id":"15","name":"潜在能力","rarity":"SR","effect_before":"元気+10 全力値+3 手札を選択し、保留に移動 ※レッスン中1回","effect_after":"元気+15 全力値+4 手札を選択し、保留に移動 ※レッスン中1回","cost":"6"},{"id":"16","name":"切磋琢磨","rarity":"SR","effect_before":"全力値+2 山札か捨札にあるスキルカードを選択し、保留に移動 スキルカード使用数追加+1 指針固定+1ターン ※重複不可","effect_after":"全力値+3 山札か捨札にあるスキルカードを選択し、保留に移動 スキルカード使用数追加+1 指針固定+1ターン ※重複不可","cost":"1"},{"id":"17","name":"忍耐力","rarity":"SR","effect_before":"温存に変更 元気+5 全力値+2 ※レッスン中1回","effect_after":"温存2段階目に変更 元気+5 全力値+3 ※レッスン中1回","cost":"2"},{"id":"18","name":"プライド","rarity":"SR","effect_before":"レッスン開始時手札に入る 温存に変更 元気+5 全力値+2 ※レッスン中1回","effect_after":"レッスン開始時手札に入る 温存に変更 元気+8 全力値+3 ※レッスン中1回","cost":"4"},{"id":"19","name":"カウントダウン","rarity":"SR","effect_before":"温存に変更 元気+8 ※レッスン中1回","effect_after":"温存に変更 元気+13 ※レッスン中1回","cost":"2"},{"id":"20","name":"休み休み、前へ","rarity":"SR","effect_before":"レッスン開始時手札に入る 温存に変更 以降、ターン開始時、温存の場合、のんびりに変更 ※レッスン中1回 重複不可","effect_after":"レッスン開始時手札に入る ※レッスン中1回 重複不可","cost":"6"},{"id":"26","name":"理想のテンポ","rarity":"SR","effect_before":"パラメータ+6（2回） ［成長］指針を変更するたび、このスキルカードのパラメータ値増加+2 ※レッスン中1回","effect_after":"パラメータ+6（2回） ［成長］指針を変更するたび、自身のパラメータ値増加+4 ※レッスン中1回","cost":"5"},{"id":"27","name":"始まりの笑顔","rarity":"SR","effect_before":"全力値消費2 強気に変更 パラメータ+6 消費体力減少2ターン 次のターン、スキルカードを引く ※重複不可","effect_after":"全力値消費1 強気に変更 パラメータ+8 消費体力減少2ターン 次のターン、スキルカードを引く ※重複不可","cost":"0"},{"id":"28","name":"オープニングアクト","rarity":"SR","effect_before":"強気に変更 パラメータ+10 全力値+2 ※レッスン中1回","effect_after":"強気に変更 パラメータ+10 全力値+3 ※レッスン中1回","cost":"5"},{"id":"29","name":"汗と成長","rarity":"SR","effect_before":"全力の場合、使用可 パラメータ+37 ※レッスン中1回","effect_after":"全力の場合、使用可 パラメータ+47 ※レッスン中1回","cost":"1"},{"id":"30","name":"はじけるパッション","rarity":"SR","effect_before":"いずれかの指針の場合、使用可 パラメータ+8（2回） ※レッスン中1回","effect_after":"いずれかの指針の場合、使用可 パラメータ+10（2回） ※レッスン中1回","cost":"2"},{"id":"31","name":"アッチェレランド","rarity":"SR","effect_before":"パラメータ+10 全力値+3","effect_after":"パラメータ+12 全力値+4","cost":"5"},{"id":"32","name":"せーのっ！","rarity":"SR","effect_before":"強気に変更 パラメータ+12","effect_after":"強気に変更 パラメータ+22","cost":"5"},{"id":"33","name":"トレーニングの成果","rarity":"SR","effect_before":"全力値+3 パラメータ+9 次のターン、温存に変更 ※レッスン中1回","effect_after":"全力値+4 パラメータ+10 次のターン、温存に変更 ※レッスン中1回","cost":"5"},{"id":"38","name":"小さなお客さん","rarity":"SR","effect_before":"次のターン、温存に変更 次のターン、全力値+2 全力の場合、パラメータ+24 ※レッスン中1回 重複不可","effect_after":"次のターン、温存に変更 次のターン、全力値+3 全力の場合、パラメータ+24 ※レッスン中1回 重複不可","cost":"6"},{"id":"52","name":"インフルエンサー","rarity":"SR","effect_before":"メンタルスキルカードの元気値増加+5・コスト値増加+1 スキルカード使用数追加+1 スキルカードを引く ※レッスン中1回 重複不可","effect_after":"メンタルスキルカードの元気値増加+6・コスト値増加+1 スキルカード使用数追加+1 スキルカードを引く ※レッスン中1回 重複不可","cost":"6"},{"id":"53","name":"トレンドリーダー","rarity":"SR","effect_before":"自身を保留に移動 非全力状態の場合、スキルカード使用数追加+1 全力の場合、パラメータ+3 (このレッスン中に増加した全力値の50%分、パラメータ上昇量増加・2回) 成長：自身使用後、全力の場合、このスキルカードのパラメータ値増加+5・全力値コスト値増加+1 ※レッスン中4回 重複不可","effect_after":"自身を保留に移動 非全力状態の場合、スキルカード使用数追加+1 全力の場合、パラメータ+10 (累積全力値の100%分、パラメータ上昇量増加・2回) 成長：自身使用後、全力の場合、自身のパラメータ値増加+5・全力値コスト値増加+1(4回まで) ※レッスン中4回 重複不可","cost":"0"},{"id":"54","name":"盛り上げ上手","rarity":"SR","effect_before":"アクティブスキルカードのパラメータ値増加+13・コスト値増加+1 次のターン、スキルカードを引く ※レッスン中1回 重複不可","effect_after":"アクティブスキルカードのパラメータ値増加+16・コスト値増加+1 次のターン、スキルカードを2枚引く ※レッスン中1回 重複不可","cost":"4"},{"id":"55","name":"王者の御出まし","rarity":"SR","effect_before":"全力値+4 消費体力減少2ターン ※レッスン中1回 重複不可","effect_after":"全力値+5 消費体力減少3ターン ※レッスン中1回 重複不可","cost":"3"},{"id":"60","name":"第一印象","rarity":"SR","effect_before":"強気に変更 以降、強気効果のスキルカード使用時、すべてのスキルカードのパラメータ値増加+2 ※レッスン中1回 重複不可","effect_after":"強気に変更 以降、強気効果のスキルカード使用時、すべてのスキルカードのパラメータ値増加+3 ※レッスン中1回 重複不可","cost":"5"},{"id":"61","name":"モチベ","rarity":"SR","effect_before":"全力値+2 以降、全力効果のスキルカード使用時、全力値+1 ※レッスン中1回 重複不可","effect_after":"全力値+2 以降、全力効果のスキルカード使用時、全力値+1 ※レッスン中1回 重複不可","cost":"4"},{"id":"62","name":"タフネス","rarity":"SR","effect_before":"温存になった回数が2回以上の場合、使用可 温存に変更 スキルカード使用回数追加+1 アクティブスキルカードのパラメータ値増加 コスト値増加+1 ※レッスン中1回 重複不可","effect_after":"温存になった回数が2回以上の場合、使用可 温存に変更 スキルカード使用回数追加+1 アクティブスキルカードのパラメータ値増加 コスト値増加+1 ※レッスン中1回 重複不可","cost":"5"},{"id":"63","name":"愛情レインボー","rarity":"SR","effect_before":"温存の場合、使用可 全力値+2 体力回復2 山札にあるスキルカードを選択し、保留に移動 重複不可レッスン中1回 ※レッスン中1回 重複不可","effect_after":"温存の場合、使用可 全力値+3 体力回復3 山札にあるスキルカードを選択し、保留に移動 重複不可レッスン中1回 ※レッスン中1回 重複不可","cost":"0"},{"id":"69","name":"達成感","rarity":"SR","effect_before":"温存に変更 スキルカード使用数追加+1 以降3回まで、全力を解除後、非全力状態の場合、温存に変更 ※レッスン中1回 重複不可","effect_after":"コストが元気-3に変更 温存に変更 スキルカード使用数追加+1 以降3回まで、全力を解除後、非全力状態の場合、温存に変更 ※レッスン中1回 重複不可","cost":"6"}],"R":[{"id":"35","name":"一歩","rarity":"R","effect_before":"パラメータ+15 ※レッスン中1回","effect_after":"パラメータ+23 ※レッスン中1回","cost":"4"},{"id":"43","name":"学園一のアイドル","rarity":"R","effect_before":"強気に変更 パラメータ+2(2回) ※レッスン中1回 重複不可","effect_after":"強気に変更 パラメータ+4(2回) ※レッスン中1回 重複不可","cost":"4"},{"id":"44","name":"ジャストアピール","rarity":"R","effect_before":"パラメータ+15 全力値+2 ※レッスン中1回","effect_after":"パラメータ+15 全力値+3 ※レッスン中1回","cost":"7"},{"id":"45","name":"スターライト","rarity":"R","effect_before":"強気に変更 パラメータ+9","effect_after":"強気に変更 パラメータ+18","cost":"6"},{"id":"46","name":"ラッキー","rarity":"R","effect_before":"パラメータ+8 強気の場合、全力値+3 ※レッスン中1回","effect_after":"パラメータ+10 強気の場合、全力値+4 ※レッスン中1回","cost":"3"},{"id":"47","name":"積み重ね","rarity":"R","effect_before":"全力値+2 温存の場合、自身を保留に移動 全力の場合、パラメータ+20","effect_after":"全力値+2 温存の場合、自身を保留に移動 全力の場合、パラメータ+35","cost":"3"},{"id":"48","name":"精一杯","rarity":"R","effect_before":"強気に変更 パラメータ+6（2回） ※レッスン中1回","effect_after":"強気に変更 パラメータ+7（2回） ※レッスン中1回","cost":"6"},{"id":"49","name":"ハッピー","rarity":"R","effect_before":"温存に変更 元気+7 ※レッスン中1回","effect_after":"温存に変更 元気+10 ※レッスン中1回","cost":"3"},{"id":"50","name":"嬉しい誤算","rarity":"R","effect_before":"元気+5 全力値+2 全力値が1以上の場合、温存に変更 ※レッスン中1回","effect_after":"元気+6 全力値+3 全力値が1以上の場合、温存に変更 ※レッスン中1回","cost":"3"},{"id":"51","name":"涙の思い出","rarity":"R","effect_before":"温存に変更 元気+2 強気の場合、全力値+3 ※レッスン中1回","effect_after":"温存に変更 元気+4 強気の場合、全力値+4 ※レッスン中1回","cost":"2"},{"id":"57","name":"セッティング","rarity":"R","effect_before":"全力値が5以上の場合、使用可 全力値+5 次のターン、手札のパラメータ値増加+8 ※レッスン中1回 重複不可","effect_after":"全力値が5以上の場合、使用可 全力値+5 次のターン、手札のパラメータ値増加+8 ※レッスン中1回 重複不可","cost":"3"},{"id":"68","name":"巻き返し","rarity":"R","effect_before":"温存に変更 熱意追加+3 全てのスキルカードのコスト値減少-1 ※レッスン中1回","effect_after":"温存に変更 熱意追加+6 全てのスキルカードのコスト値減少-1 ※レッスン中1回","cost":"0"},{"id":"70","name":"のんびり屋さん","rarity":"R","effect_before":"全力値+1 以降、ターン開始時、温存の場合、のんびりに変更 ※レッスン中1回 重複不可","effect_after":"全力値+3 以降、ターン開始時、温存の場合、のんびりに変更 ※レッスン中1回 重複不可","cost":"5"}],"N":[{"id":"34","name":"イメージの基本","rarity":"N","effect_before":"温存に変更 元気+2","effect_after":"温存に変更 元気+6","cost":"2"},{"id":"37","name":"メントレの基本","rarity":"N","effect_before":"元気+2 全力値+2","effect_after":"元気+3 全力値+3","cost":"3"},{"id":"39","name":"スパート","rarity":"N","effect_before":"全力値+1 温存の場合、自身を保留に移動 全力の場合、パラメータ+25","effect_after":"全力値+1 温存の場合、自身を保留に移動 全力の場合、パラメータ+25","cost":"5"},{"id":"41","name":"はげしく","rarity":"N","effect_before":"強気に変更パラメータ+15※レッスン中1回","effect_after":"強気に変更パラメータ+25※レッスン中1回","cost":"7"},{"id":"42","name":"挨拶の基本","rarity":"N","effect_before":"強気に変更","effect_after":"強気に変更 元気+4","cost":"0"}]},"理性":{"SSR":[{"id":"1","name":"ダメダメクッキング","rarity":"SSR","effect_before":"好印象+4 やる気+3 次のターン、手札をすべてレッスン中強化 ※レッスン中1回 重複不可","effect_after":"コストを元気-6に変更 好印象+5 やる気+4 次のターン、手札をすべてレッスン中強化 ※レッスン中1回 重複不可","cost":"7"},{"id":"2","name":"お嬢様の晴れ舞台","rarity":"SSR","effect_before":"体力消費4 元気+2 元気の100%分パラメータ上昇 やる気+2 ※レッスン中1回 重複不可","effect_after":"体力消費4 元気+5 元気の120%分パラメータ上昇 やる気+3 ※レッスン中1回 重複不可","cost":"0"},{"id":"3","name":"もう怖くないから","rarity":"SSR","effect_before":"好印象+3 以降、ターン終了時、好印象+1 ※レッスン中1回 重複不可","effect_after":"コストを元気-2に変更 好印象+4 以降、ターン終了時、好印象+1 ※レッスン中1回 重複不可","cost":"3"},{"id":"4","name":"本気の趣味","rarity":"SSR","effect_before":"元気+5 やる気が3以上の場合、元気+4 ※レッスン中1回 重複不可","effect_after":"元気+7 やる気が3以上の場合、元気+7 ※レッスン中1回 重複不可","cost":"0"},{"id":"5","name":"よそ見はダメ♪","rarity":"SSR","effect_before":"元気+2 好印象+7 ※レッスン中1回 重複不可","effect_after":"元気+4 好印象+9 ※レッスン中1回 重複不可","cost":"6"},{"id":"6","name":"虹色ドリーマー","rarity":"SSR","effect_before":"好印象+1 以降、ターン終了時好印象が3以上の場合、好印象+3 ※レッスン中1回 重複不可","effect_after":"好印象+4 以降、ターン終了時好印象が3以上の場合、好印象+3 ※レッスン中1回 重複不可","cost":"9"},{"id":"7","name":"トキメキ","rarity":"SSR","effect_before":"好印象+8 やる気+5 ※レッスン中1回 重複不可","effect_after":"コストを元気-9に変更 好印象+10 やる気+6 ※レッスン中1回 重複不可","cost":"10"},{"id":"8","name":"手書きのメッセージ","rarity":"SSR","effect_before":"好印象消費2 元気+9 元気+9 ※レッスン中1回 重複不可","effect_after":"好印象消費1 元気+10 元気+10 ※レッスン中1回 重複不可","cost":"0"},{"id":"9","name":"ノートの端の決意","rarity":"SSR","effect_before":"好印象+3 やる気+3 消費体力減少3ターン ※レッスン中1回 重複不可","effect_after":"好印象+5 やる気+3 消費体力減少3ターン ※レッスン中1回 重複不可","cost":"4"},{"id":"10","name":"星屑センセーション","rarity":"SSR","effect_before":"やる気消費3 好印象+5 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"やる気消費3 好印象+7 スキルカード使用数追加+1 スキルカードを引く ※レッスン中1回 重複不可","cost":"0"},{"id":"11","name":"私がスター","rarity":"SSR","effect_before":"好印象消費2 ターン追加+1 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"好印象消費1 ターン追加+1 スキルカード使用数追加+1 スキルカードを引く ※レッスン中1回 重複不可","cost":"0"},{"id":"12","name":"届いて！","rarity":"SSR","effect_before":"体力消費2 元気を0にして、減少前の元気の160%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"体力消費2 元気を0にして、減少前の元気の220%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"13","name":"開花","rarity":"SSR","effect_before":"やる気+6 やる気の200%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"やる気+8 やる気の300%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"5"},{"id":"14","name":"200% スマイル","rarity":"SSR","effect_before":"好印象+5 好印象の100%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"好印象+6 好印象の170%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"6"},{"id":"15","name":"絡まる想い","rarity":"SSR","effect_before":"レッスン開始時手札に入る 好印象+8 ※レッスン1回 重複不可","effect_after":"レッスン開始時手札に入る 好印象+10 ※レッスン1回 重複不可","cost":"8"},{"id":"16","name":"おっきなおにぎり","rarity":"SSR","effect_before":"体力消費3 元気+2（レッスン中に使用したスキルカード1枚ごとに、元気増加量+5） ※レッスン中1回 重複不可","effect_after":"体力消費3 元気+2（レッスン中に使用したスキルカード1枚ごとに、元気増加量+8） ※レッスン中1回 重複不可","cost":"0"},{"id":"17","name":"POW！","rarity":"SSR","effect_before":"体力消費5 好印象の250%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"体力消費3 好印象の260%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"18","name":"お泊り猛勉強","rarity":"SSR","effect_before":"体力消費1 好印象+5 ※レッスン中1回 重複不可","effect_after":"体力消費1 好印象+6 次のターン、スキルカードを引く ※レッスン中1回 重複不可","cost":"0"},{"id":"19","name":"昼下がりのそよ風","rarity":"SSR","effect_before":"体力消費3 やる気+7 やる気が6以上の場合、やる気+3 ※レッスン中1回 重複不可","effect_after":"体力消費3 やる気+8 やる気が3以上の場合、やる気+5 ※レッスン中1回 重複不可","cost":"0"},{"id":"20","name":"輝くキミへ","rarity":"SSR","effect_before":"やる気消費4 スキルカード使用数追加+1 以降、スキルカード使用時、好印象の30%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"やる気消費4 スキルカード使用数追加+1 以降、スキルカード使用時、好印象の50%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"21","name":"あのときの約束","rarity":"SSR","effect_before":"好印象消費4 元気+9 元気の100%分パラメータ上昇 やる気の150%分パラメータ上昇 ※レッスン中1回","effect_after":"好印象消費4 元気+14 元気の130%分パラメータ上昇 やる気の200%分パラメータ上昇 ※レッスン中1回","cost":"0"},{"id":"22","name":"金魚すくいで勝負","rarity":"SSR","effect_before":"体力消費2 好印象+3 スキルカード使用数追加+1 スキルカードを引く ※レッスン中1回 重複不可","effect_after":"体力消費2 好印象+5 スキルカード使用数追加+1 スキルカードを引く ※レッスン中1回 重複不可","cost":"0"},{"id":"23","name":"夏の宵の線香花火","rarity":"SSR","effect_before":"レッスン開始時手札に入る 好印象+3 やる気+2 以降、元気効果のスキルカード使用後、好印象+1 ※レッスン中1回 重複不可","effect_after":"レッスン開始時手札に入る 好印象+4 やる気+3 以降、元気効果のスキルカード使用後、好印象+1 ※レッスン中1回 重複不可","cost":"0"},{"id":"26","name":"さっぱりひといき","rarity":"SSR","effect_before":"元気+2（やる気効果を2.3倍適用） 元気の50％分パラメータ上昇 消費体力削減1 ※レッスン中1回 重複不可","effect_after":"体力-4 元気+2（やる気効果を2.3倍適用） 元気の90％分パラメータ上昇 消費体力削減1 ※レッスン中1回 重複不可","cost":"0"},{"id":"27","name":"その本、おもしろい？","rarity":"SSR","effect_before":"好印象が3以上の場合、好印象の120％分パラメータ上昇 やる気が3以上の場合、元気の50％分パラメータ上昇 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"体力-4に変更 好印象が3以上の場合、好印象の150％分パラメータ上昇 やる気が3以上の場合、元気の70％分パラメータ上昇 スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"0"},{"id":"28","name":"月夜のランウェイ","rarity":"SSR","effect_before":"やる気+3 以降、好印象効果のスキルカード使用時、好印象の30%分のパラメータ上昇 ※レッスン中1回 重複不可","effect_after":"やる気+3 以降、好印象効果のスキルカード使用時、好印象の50%分のパラメータ上昇 ※レッスン中1回 重複不可","cost":"6"},{"id":"29","name":"悪戦苦闘ハンドメイド","rarity":"SSR","effect_before":"体力消費4 好印象+4 やる気+4 好印象が3以上の場合、スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"体力消費4 好印象+6 やる気+5 好印象が3以上の場合、スキルカード使用数追加+2 ※レッスン中1回 重複不可","cost":"0"},{"id":"30","name":"キセキの魔法","rarity":"SSR","effect_before":"体力消費5 好印象の250%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"体力消費5 好印象の340%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"31","name":"メリクリで～す","rarity":"SSR","effect_before":"好印象+3 以降、メンタルスキルカード使用時、やる気+1 ※レッスン中1回 重複不可","effect_after":"好印象+5 以降、メンタルスキルカード使用時、やる気+1 ※レッスン中1回 重複不可","cost":"2"},{"id":"32","name":"愛を込めて","rarity":"SSR","effect_before":"元気+4（やる気効果を1.8倍適用） やる気の300%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"元気+6（やる気効果を2倍適用） やる気の400%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"6"},{"id":"33","name":"広がり続ける世界","rarity":"SSR","effect_before":"体力消費3 やる気+4 次のターン、元気+5 最終ターンのターン終了時、元気の130%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"体力消費3 やる気+6 次のターン、元気+8 最終ターンのターン終了時、元気の130%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"34","name":"エウレカ！","rarity":"SSR","effect_before":"スキルカード使用数追加+1 以降、ターン開始時、体力が50%以下の場合、元気の30%分パラメータ上昇・最大体力の5%分体力回復 ※レッスン中1回 重複不可","effect_after":"スキルカード使用数追加+1 以降、ターン開始時、体力が50%以下の場合、元気の40%分パラメータ上昇・最大体力の10%分体力回復 ※レッスン中1回 重複不可","cost":"12"},{"id":"35","name":"また、飛べる","rarity":"SSR","effect_before":"元気+1 好印象+3 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"元気+2 好印象+5 スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"4"},{"id":"60","name":"あなたにあげる","rarity":"SSR","effect_before":"以降の3ターンの間、ターン終了時、元気の60％分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"以降の3ターンの間、ターン終了時、元気の80％分パラメータ上昇 ※レッスン中1回 重複不可","cost":"8"},{"id":"61","name":"ちいさなおひさま","rarity":"SSR","effect_before":"好印象+3 次のターン、スキルカードを引く 好印象が10以上の場合、好印象の140％分パラメータ上昇 ※重複不可","effect_after":"好印象+3 次のターン、スキルカードを引く 好印象が10以上の場合、好印象の220％分パラメータ上昇 ※重複不可","cost":"0"},{"id":"85","name":"わたしらしい色","rarity":"SSR","effect_before":"やる気1.5倍、低下状態回復1、次のターン、元気+4 ※レッスン中1回 重複不可","effect_after":"やる気1.5倍、低下状態回復2、次のターン、元気+8 ※レッスン中1回 重複不可","cost":"2"},{"id":"86","name":"また、明日","rarity":"SSR","effect_before":"好印象が1以上の場合、使用可最大体力の10%分体力回復 好印象+3 元気+5 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"好印象が1以上の場合、使用可最大体力の10%分体力回復 好印象+5 元気+10 スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"6"},{"id":"87","name":"ほかほか焼き芋","rarity":"SSR","effect_before":"元気+4 やる気+4 元気が30以上の場合、好印象+3 ※レッスン中1回 重複不可","effect_after":"元気+7 やる気+5 元気が30以上の場合、好印象+4 ※レッスン中1回 重複不可","cost":"4"},{"id":"90","name":"湧き上がる気持ち","rarity":"SSR","effect_before":"好印象量増加+100％（3ターン） ※レッスン中1回 重複不可","effect_after":"元気-3好印象量増加+100％（3ターン） ※レッスン中1回 重複不可","cost":"6"},{"id":"92","name":"夢色リップ","rarity":"SSR","effect_before":"元気+2 やる気+4 パラメータ上昇量増加10％ 好印象が15以上の場合、以降の3ターンの間、ターン開始時、好印象1.1倍 ※レッスン中1回 重複不可","effect_after":"元気+2 やる気+5 パラメータ上昇量増加20％ 好印象が15以上の場合、以降の3ターンの間、ターン開始時、好印象1.1倍 ※レッスン中1回 重複不可","cost":"4"},{"id":"93","name":"戦う理由","rarity":"SSR","effect_before":"元気+2 好印象+3 好印象1.1倍 ※重複不可","effect_after":"元気+3 好印象+4 好印象1.1倍 ※重複不可","cost":"1"},{"id":"94","name":"憧れのアイドル","rarity":"SSR","effect_before":"体力消費2 やる気+2 次のターン、元気+3 以降、直接効果で元気の20％分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"体力消費2 やる気+3 次のターン、元気+3 以降、直接効果で元気の30％分パラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"95","name":"つかみ取った未来","rarity":"SSR","effect_before":"元気+2（レッスン中に使用したスキルカード1枚ごとに、元気増加量+5） 好印象+2 ※レッスン中1回 重複不可","effect_after":"元気+2（レッスン中に使用したスキルカード1枚ごとに、元気増加量+5） 好印象+2 ※レッスン中1回 重複不可","cost":"7"},{"id":"98","name":"爆盛れ最強ルック♪","rarity":"SSR","effect_before":"元気＋3好印象＋4やる気＋3 ※レッスン中1回 重複不可","effect_after":"元気+3 好印象+6 やる気+3 ※レッスン中1回 重複不可","cost":"5"},{"id":"99","name":"ドラマチックホリデー","rarity":"SSR","effect_before":"以降やる気が6以上の場合、アクティブスキルカードを2回使用する事に、元気＋7 ※レッスン中1回 重複不可","effect_after":"やる気+3 以降やる気が6以上の場合 アクティブスキルカードを2回使用する事に、元気＋8 ※レッスン中1回 重複不可","cost":"5"},{"id":"100","name":"微熱ノスタルジー","rarity":"SSR","effect_before":"体力消費7 好印象が10以上の場合、使用可 元気+2 やる気+2 山札か捨札にあるスキルカード1枚ごとに、好印象+2 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"体力消費5 好印象が10以上の場合、使用可 元気+6 やる気+4 山札か捨札にあるスキルカード1枚ごとに、好印象+2 スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"0"},{"id":"101","name":"対象、ロックオン","rarity":"SSR","effect_before":"好印象強化+100%(3ターン)好印象が10以上の場合、以降の3ターンの間、ターン開始時、スキルカードを引く ※レッスン中1回 重複不可","effect_after":"※レッスン中1回 重複不可","cost":"4"},{"id":"102","name":"空まで一直線","rarity":"SSR","effect_before":"好印象+3、好印象強化+20%、スキルカード使用数追加+1、消費体力増加1ターン ※レッスン中1回 重複不可","effect_after":"好印象+4、好印象強化+20%、スキルカード使用数追加+1、消費体力増加1ターン ※レッスン中1回 重複不可","cost":"1"}],"SR":[{"id":"36","name":"いっしょけんめい","rarity":"SR","effect_before":"元気+1 やる気+5 ※レッスン中1回 重複不可","effect_after":"元気+4 やる気+6 ※レッスン中1回 重複不可","cost":"2"},{"id":"37","name":"純白の妖精","rarity":"SR","effect_before":"好印象+2 好印象の120%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"好印象+2 好印象の160%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"3"},{"id":"38","name":"苦しいのが好き","rarity":"SR","effect_before":"元気+6 やる気の250%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"元気+7 やる気の350%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"4"},{"id":"39","name":"Colorful Cute！","rarity":"SR","effect_before":"好印象+6 ※レッスン中1回 重複不可","effect_after":"好印象+8 ※レッスン中1回 重複不可","cost":"4"},{"id":"40","name":"ゆめみごこち","rarity":"SR","effect_before":"好印象消費2 やる気+4 スキルカード使用数追加+1 ※重複不可","effect_after":"好印象消費1 やる気+5 スキルカード使用数追加+1 ※重複不可","cost":"0"},{"id":"41","name":"やる気は満点","rarity":"SR","effect_before":"元気+1 好印象+4 ※レッスン中1回","effect_after":"元気+2 好印象+5 ※レッスン中1回","cost":"1"},{"id":"42","name":"イメトレ","rarity":"SR","effect_before":"元気+7 やる気+4 ※レッスン中1回","effect_after":"元気+11 やる気+5 ※レッスン中1回","cost":"4"},{"id":"43","name":"ひなたぼっこ","rarity":"SR","effect_before":"元気+11 やる気+5 消費体力増加2ターン ※レッスン中1回 重複不可","effect_after":"元気+11 やる気+7 消費体力増加2ターン ※レッスン中1回 重複不可","cost":"0"},{"id":"44","name":"本番前夜","rarity":"SR","effect_before":"レッスン開始時手札に入る好印象+4 やる気+3 ※レッスン中1回","effect_after":"レッスン開始時手札に入る好印象+5 やる気+4 ※レッスン中1回","cost":"5"},{"id":"45","name":"ワクワクが止まらない","rarity":"SR","effect_before":"やる気+3 以降、Mメンタルスキルカード使用時、やる気+1 ※レッスン中1回 重複不可","effect_after":"やる気+5 以降、Mメンタルスキルカード使用時、やる気+1 ※レッスン中1回 重複不可","cost":"3"},{"id":"46","name":"ファンシーチャーム","rarity":"SR","effect_before":"好印象+3 以降、Mメンタルスキルカード使用時、好印象+1 ※レッスン中1回 重複不可","effect_after":"好印象+5 以降、Mメンタルスキルカード使用時、好印象+1 ※レッスン中1回 重複不可","cost":"4"},{"id":"47","name":"幸せな時間","rarity":"SR","effect_before":"好印象+6","effect_after":"好印象+8","cost":"5"},{"id":"48","name":"ふれあい","rarity":"SR","effect_before":"元気+3 好印象+4","effect_after":"元気+6 好印象+5","cost":"5"},{"id":"49","name":"あふれる思い出","rarity":"SR","effect_before":"元気+2 やる気+4","effect_after":"元気+4 やる気+5","cost":"3"},{"id":"50","name":"みんな大好き","rarity":"SR","effect_before":"やる気消費3 好印象の90%分パラメータ上昇 スキルカード使用数追加+1 ※重複不可","effect_after":"やる気消費2 好印象の120%分パラメータ上昇 スキルカード使用数追加+1 ※重複不可","cost":"0"},{"id":"51","name":"キラメキ","rarity":"SR","effect_before":"元気+5 好印象の200%分パラメータ上昇 消費体力増加2ターン ※レッスン中1回 重複不可","effect_after":"元気+5 好印象の250%分パラメータ上昇 消費体力増加2ターン ※レッスン中1回 重複不可","cost":"3"},{"id":"52","name":"ハートの合図","rarity":"SR","effect_before":"体力消費3 元気を半分にして、減少前の元気の130%分パラメータ上昇 ※レッスン中1回","effect_after":"体力消費3 元気を半分にして、減少前の元気の180%分パラメータ上昇 ※レッスン中1回","cost":"0"},{"id":"53","name":"ありがとうの言葉","rarity":"SR","effect_before":"体力消費3 元気+9 元気の40%分パラメータ上昇 ※レッスン中1回","effect_after":"体力消費3 元気+11 元気の70%分パラメータ上昇 ※レッスン中1回","cost":"0"},{"id":"54","name":"ラブリーウインク","rarity":"SR","effect_before":"好印象+4 好印象の60%分パラメータ上昇","effect_after":"好印象+5 好印象の80%分パラメータ上昇","cost":"5"},{"id":"55","name":"なに聴いてるの？","rarity":"SR","effect_before":"元気+2 体力回復3 ※レッスン1回 重複不可","effect_after":"元気+2 体力回復5 ※レッスン1回 重複不可","cost":"0"},{"id":"56","name":"打倒お姉ちゃん","rarity":"SR","effect_before":"体力消費4 元気+3 元気の100%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"体力消費4 元気+3 元気の140%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"57","name":"止められない想い","rarity":"SR","effect_before":"体力消費4 やる気+3 好印象+3 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"体力消費4 やる気+4 好印象+5 スキルカード使用数追加+2 ※レッスン中1回 重複不可","cost":"0"},{"id":"58","name":"オトメゴコロ","rarity":"SR","effect_before":"やる気消費3 好印象+4 スキルカード使用数追加+1 ※重複不可","effect_after":"やる気消費3 好印象+5 スキルカード使用数追加+1 好印象が10以上の場合、好印象+2 ※重複不可","cost":"0"},{"id":"59","name":"きらきら紙吹雪","rarity":"SR","effect_before":"やる気消費3 元気の110%分パラメータ上昇 次のターンスキルカードを引く ※重複不可","effect_after":"やる気消費2 元気の110%分パラメータ上昇 次のターンスキルカードを2枚引く ※重複不可","cost":"0"},{"id":"84","name":"ディテールが肝心","rarity":"SR","effect_before":"体力消費3 元気+4 やる気の270％分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"体力消費3 元気+7 やる気の340％分パラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"88","name":"こうかい・・・・・・？","rarity":"SR","effect_before":"好印象+3 好印象の90％分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"好印象+4 好印象の100％分パラメータ上昇 ※レッスン中1回 重複不可","cost":"4"},{"id":"89","name":"草笛ハーモニー","rarity":"SR","effect_before":"好印象+2 体力回復1 好印象が10以上の場合、スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"好印象+2 体力回復3 好印象が10以上の場合、スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"0"}],"R":[{"id":"24","name":"初めての場所","rarity":"R","effect_before":"好印象+6 ※レッスン中1回 重複不可","effect_after":"好印象+8 ※レッスン中1回 重複不可","cost":"6"},{"id":"25","name":"初めての未来","rarity":"R","effect_before":"好印象の190％分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"体力消費3 好印象の200％分パラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"62","name":"元気いっぱい","rarity":"R","effect_before":"体力消費4 元気+2 元気の50%分パラメータ上昇 やる気+2 ※レッスン中1回 重複不可","effect_after":"体力消費4 元気+2 元気の70%分パラメータ上昇 やる気+3 ※レッスン中1回 重複不可","cost":"0"},{"id":"63","name":"内気系少女","rarity":"R","effect_before":"好印象+1 以降、ターン終了時、好印象+1 ※レッスン中1回 重複不可","effect_after":"コストを元気-2に変更 好印象+2 以降、ターン終了時、好印象+1 ※レッスン中1回 重複不可","cost":"3"},{"id":"64","name":"超高学歴アイドル","rarity":"R","effect_before":"元気+2 やる気が6以上の場合、元気+3 ※レッスン中1回 重複不可","effect_after":"元気+4 やる気が6以上の場合、元気+5 ※レッスン中1回 重複不可","cost":"0"},{"id":"65","name":"アルバイター","rarity":"R","effect_before":"パラメータ+2 好印象+5 ※レッスン中1回 重複不可","effect_after":"パラメータ+6 好印象+6 ※レッスン中1回 重複不可","cost":"6"},{"id":"66","name":"励まし","rarity":"R","effect_before":"やる気+3 やる気が6以上の場合、好印象+4","effect_after":"やる気+4 やる気が6以上の場合、好印象+5","cost":"4"},{"id":"67","name":"パステル気分","rarity":"R","effect_before":"元気+5 やる気が3以上の場合、好印象+3","effect_after":"元気+7 やる気が3以上の場合、好印象+4","cost":"3"},{"id":"68","name":"思い出し笑い","rarity":"R","effect_before":"好印象+3 好印象が3以上の場合、やる気+2","effect_after":"好印象+4 好印象が3以上の場合、やる気+3","cost":"2"},{"id":"69","name":"リズミカル","rarity":"R","effect_before":"元気+6 ※レッスン中1回","effect_after":"元気+8 ※レッスン中1回","cost":"0"},{"id":"70","name":"えいえいおー","rarity":"R","effect_before":"元気+1 やる気+3","effect_after":"元気+2 やる気+4","cost":"2"},{"id":"71","name":"リスタート","rarity":"R","effect_before":"元気+2 好印象+3","effect_after":"元気+2 好印象+4","cost":"4"},{"id":"72","name":"元気な挨拶","rarity":"R","effect_before":"体力消費4 元気の110%分パラメータ上昇 ※レッスン中1回","effect_after":"体力消費3 元気の120%分パラメータ上昇 ※レッスン中1回","cost":"0"},{"id":"73","name":"手拍子","rarity":"R","effect_before":"好印象の150%分パラメータ上昇 ※レッスン中1回","effect_after":"好印象の200%分パラメータ上昇 ※レッスン中1回","cost":"5"},{"id":"74","name":"もう少しだけ","rarity":"R","effect_before":"パラメータ+10 やる気+3","effect_after":"パラメータ+15 やる気+4","cost":"5"},{"id":"75","name":"ゆるふわおしゃべり","rarity":"R","effect_before":"体力消費4 やる気+3 元気の60%分パラメータ上昇 ※レッスン中1回","effect_after":"体力消費4 やる気+4 元気の80%分パラメータ上昇 ※レッスン中1回","cost":"0"},{"id":"76","name":"今日もおはよう","rarity":"R","effect_before":"パラメータ+7 好印象+3","effect_after":"パラメータ+9 好印象+4","cost":"4"},{"id":"81","name":"未完の大器","rarity":"R","effect_before":"体力消費3 元気+2（レッスン中に使用したスキルカード1枚ごとに、元気増加量+3） ※レッスン中1回 重複不可","effect_after":"体力消費3 元気+2（レッスン中に使用したスキルカード1枚ごとに、元気増加量+4） ※レッスン中1回 重複不可","cost":"0"},{"id":"82","name":"幸せのおまじない","rarity":"R","effect_before":"好印象+7 ※レッスン中1回","effect_after":"好印象+9 ※レッスン中1回","cost":"8"},{"id":"83","name":"初めてのお相手","rarity":"R","effect_before":"元気+2（やる気効果を1.5倍適用） 元気の40％分パラメータ上昇 消費体力削減1 ※レッスン中1回 重複不可","effect_after":"元気+2（やる気効果を1.5倍適用） 元気の50％分パラメータ上昇 消費体力削減2 ※レッスン中1回 重複不可","cost":"0"},{"id":"91","name":"デイドリーミング","rarity":"R","effect_before":"体力消費3 元気が30以上の場合、使用可 元気+3 以降の3ターンの間、ターン開始時、元気の60％分のパラメータ上昇 ※レッスン中1回 重複不可","effect_after":"体力消費3 元気が30以上の場合、使用可 元気+3 以降の3ターンの間、ターン開始時、元気の60％分のパラメータ上昇 ※レッスン中1回 重複不可","cost":"0"},{"id":"96","name":"初めての野望","rarity":"R","effect_before":"以降の2ターンの間、ターン終了時、元気の50%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"以降の3ターンの間、ターン終了時、元気の50%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"6"},{"id":"97","name":"初めての息","rarity":"R","effect_before":"元気+5、やる気+2 ※レッスン中1回 重複不可","effect_after":"元気+7、やる気+3 ※レッスン中1回 重複不可","cost":"2"}],"N":[{"id":"77","name":"意識の基本","rarity":"N","effect_before":"元気+1 やる気+2","effect_after":"元気+2 やる気+3","cost":"2"},{"id":"78","name":"目線の基本","rarity":"N","effect_before":"元気+1 好印象+2","effect_after":"元気+2 好印象+3","cost":"2"},{"id":"79","name":"気分転換","rarity":"N","effect_before":"体力消費5 元気の100%分パラメータ上昇 ※レッスン中1回","effect_after":"体力消費3 元気の110%分パラメータ上昇 ※レッスン中1回","cost":"0"},{"id":"80","name":"可愛い仕草","rarity":"N","effect_before":"好印象+2 好印象の100%分パラメータ上昇 ※レッスン中1回","effect_after":"好印象+3 好印象の120%分パラメータ上昇 ※レッスン中1回","cost":"5"}]},"感性":{"SSR":[{"id":"1","name":"はじめてのラムネ","rarity":"SSR","effect_before":"好調状態の場合、使用可 パラメータ+9 好調の200%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"好調状態の場合、使用可 パラメータ+12 好調の300%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"4"},{"id":"2","name":"いつか見た景色","rarity":"SSR","effect_before":"集中が6以上の場合、使用可 集中1.3倍 次のターン、パラメータ+9（3回・集中効果を1.5倍適用） ※レッスン中1回 重複不可","effect_after":"集中が6以上の場合、使用可 集中1.5倍 次のターン、パラメータ+9（3回・集中効果を1.5倍適用） ※レッスン中1回 重複不可","cost":"6"},{"id":"3","name":"おすそわけですっ！","rarity":"SSR","effect_before":"集中+1 以降、ターン開始時、好調2ターン ※レッスン中1回 重複不可","effect_after":"集中+3 以降、ターン開始時、好調2ターン ※レッスン中1回 重複不可","cost":"7"},{"id":"4","name":"正確無比な看板づくり","rarity":"SSR","effect_before":"レッスン開始時手札に入る 好調3ターン 低下状態無効1回 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"レッスン開始時手札に入る 好調5ターン 低下状態無効1回 スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"6"},{"id":"5","name":"悪戯しちゃいますわ！","rarity":"SSR","effect_before":"パラメータ+8(2回) 集中が3以上の場合、集中+2 ※レッスン中1回 重複不可","effect_after":"パラメータ+10(2回) 集中が3以上の場合、集中+4 ※レッスン中1回 重複不可","cost":"5"},{"id":"6","name":"こくりとひとくち","rarity":"SSR","effect_before":"レッスン開始時手札に入る 集中+3 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"レッスン開始時手札に入る 集中+4 消費体力減少1ターン スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"5"},{"id":"7","name":"お茶会へようこそ","rarity":"SSR","effect_before":"元気+3 絶好調+2ターン スキルカード使用数追加+1 スキルカードを引く ※レッスン中1回 重複不可","effect_after":"元気+5 絶好調+3ターン スキルカード使用数追加+1 スキルカードを引く ※レッスン中1回 重複不可","cost":"4"},{"id":"8","name":"喧嘩するほど仲がいい","rarity":"SSR","effect_before":"集中+3 好調2ターン 次のターン、手札をすべてレッスン中強化 ※レッスン中1回 重複不可","effect_after":"集中+4 好調4ターン 次のターン、手札をすべてレッスン中強化 ※レッスン中1回 重複不可","cost":"6"},{"id":"10","name":"ワンモアステップ","rarity":"SSR","effect_before":"パラメータ+7（2回） 集中が6以上の場合、パラメータ+7 ※レッスン中1回 重複不可","effect_after":"コストを元気-3に変更 パラメータ+9（2回） 集中が6以上の場合、パラメータ+9 ※レッスン中1回 重複不可","cost":"4"},{"id":"11","name":"交わる感情","rarity":"SSR","effect_before":"パラメータ+7（集中効果を1.5倍適用） 集中+4 ※レッスン中1回 重複不可","effect_after":"パラメータ+13（集中効果を1.5倍適用） 集中+5 ※レッスン中1回 重複不可","cost":"5"},{"id":"12","name":"バスに揺られて","rarity":"SSR","effect_before":"パラメータ+5(集中効果を2.3倍適用) 体力が50%以下の場合、元気+6 ※レッスン中1回 重複不可","effect_after":"パラメータ+8(集中効果を2.6倍適用) 体力が50%以下の場合、元気+12 ※レッスン中1回 重複不可","cost":"2"},{"id":"13","name":"覚醒","rarity":"SSR","effect_before":"好調消費1ターン パラメータ+3(2回) 集中+4 ※重複不可","effect_after":"好調消費1ターン パラメータ+4(2回) 集中+6 ※重複不可","cost":"0"},{"id":"14","name":"アドレナリン全開","rarity":"SSR","effect_before":"好調3ターン 絶好調4ターン ※レッスン中1回 重複不可","effect_after":"好調4ターン 絶好調5ターン ※レッスン中1回 重複不可","cost":"4"},{"id":"15","name":"ひんやり一休み","rarity":"SSR","effect_before":"パラメータ+9（3回） ※レッスン中1回 重複不可","effect_after":"パラメータ+14（3回） ※レッスン中1回 重複不可","cost":"8"},{"id":"16","name":"入道雲と、きみ","rarity":"SSR","effect_before":"次に使用するアクティブスキルカードの効果をもう1回発動（1回・1ターン） 好調3ターン 消費体力減少2ターン ※レッスン中1回 重複不可","effect_after":"次に使用するアクティブスキルカードの効果をもう1回発動（1回・1ターン） 好調5ターン 消費体力減少2ターン ※レッスン中1回 重複不可","cost":"6"},{"id":"17","name":"はじける水しぶき","rarity":"SSR","effect_before":"体力消費6 パラメータ+33 好調が4ターン以上の場合、2ターン後、体力回復4 ※レッスン中1回 重複不可","effect_after":"体力消費6 パラメータ+45 好調が4ターン以上の場合、2ターン後、体力回復6 ※レッスン中1回 重複不可","cost":"0"},{"id":"18","name":"至高のエンタメ","rarity":"SSR","effect_before":"集中消費3 以降、アクティブスキルカード使用時、パラメータ+4 ※レッスン中1回 重複不可","effect_after":"集中消費2 次のターンスキルカードを引く 以降、アクティブスキルカード使用時、パラメータ+5 ※レッスン中1回 重複不可","cost":"0"},{"id":"19","name":"天真爛漫","rarity":"SSR","effect_before":"集中+1 以降、ターン終了時集中が3以上の場合、集中+2 ※レッスン中1回 重複不可","effect_after":"コストを元気-5に変更 集中+1 以降、ターン終了時集中が3以上の場合、集中+2 ※レッスン中1回 重複不可","cost":"6"},{"id":"20","name":"コール&レスポンス","rarity":"SSR","effect_before":"パラメータ+15 集中が3以上の場合、パラメータ+15 ※レッスン中1回 重複不可","effect_after":"パラメータ+15 集中が3以上の場合、パラメータ+34（集中効果を1.5倍適用） ※レッスン中1回 重複不可","cost":"6"},{"id":"21","name":"バズワード","rarity":"SSR","effect_before":"好調状態の場合、使用可 パラメータ+38 ※重複不可","effect_after":"好調状態の場合、使用可 パラメータ+54 ※重複不可","cost":"7"},{"id":"22","name":"成就","rarity":"SSR","effect_before":"好調4ターン 次のターン、パラメータ+32 ※レッスン中1回 重複不可","effect_after":"好調7ターン 次のターン、パラメータ+40 ※レッスン中1回 重複不可","cost":"10"},{"id":"23","name":"魅惑のパフォーマンス","rarity":"SSR","effect_before":"好調状態の場合、使用可 絶好調2ターン 次のターン、パラメータ+38 ※レッスン中1回 重複不可","effect_after":"好調状態の場合、使用可 絶好調3ターン 次のターン、パラメータ+47 ※レッスン中1回 重複不可","cost":"8"},{"id":"24","name":"国民的アイドル","rarity":"SSR","effect_before":"好調消費1ターン 次に使用するスキルカードの効果をもう1回発動（1回） スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"好調消費1ターン 元気+8 次に使用するスキルカードの効果をもう1回発動（1回） スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"0"},{"id":"25","name":"魅惑の視線","rarity":"SSR","effect_before":"集中消費3 絶好調4ターン 消費体力減少2ターン スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"集中消費3 絶好調5ターン 消費体力減少5ターン スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"0"},{"id":"26","name":"鳴り止まない拍手","rarity":"SSR","effect_before":"集中+4 好調2ターン 消費体力減少2ターン ※レッスン中1回 重複不可","effect_after":"集中+5 好調3ターン 消費体力減少3ターン ※レッスン中1回 重複不可","cost":"5"},{"id":"27","name":"絶対に負けない","rarity":"SSR","effect_before":"パラメータ+34 ※レッスン中1回 重複不可","effect_after":"パラメータ+48 ※レッスン中1回 重複不可","cost":"6"},{"id":"28","name":"それぞれの道","rarity":"SSR","effect_before":"パラメータ+14 集中+5 ※レッスン中1回 重複不可","effect_after":"コストを元気-4に変更 パラメータ+15 集中+5 ※レッスン中1回 重複不可","cost":"7"},{"id":"29","name":"盛装の華形","rarity":"SSR","effect_before":"パラメータ+12 好調状態の場合、パラメータ+14 ※レッスン中1回 重複不可","effect_after":"パラメータ+18 好調状態の場合、パラメータ+20 ※レッスン中1回 重複不可","cost":"5"},{"id":"30","name":"距離感","rarity":"SSR","effect_before":"集中+4 体力回復4 ※レッスン中1回 重複不可","effect_after":"コストを元気-3に変更 集中+5 体力回復5 ※レッスン中1回 重複不可","cost":"4"},{"id":"31","name":"光の夜","rarity":"SSR","effect_before":"絶好調2ターン 体力回復2 ※レッスン中1回 重複不可","effect_after":"絶好調3ターン 体力回復4 ※レッスン中1回 重複不可","cost":"0"},{"id":"40","name":"ヒーローとの出会い","rarity":"SSR","effect_before":"好調4ターン 集中+1 好調が4ターン以上の場合、次のターン、スキルカード使用数追加+1 好調が12ターン以上の場合、2ターン後、スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"好調4ターン 集中+2 好調が4ターン以上の場合、次のターン、スキルカード使用数追加+1 好調が12ターン以上の場合、2ターン後、スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"6"},{"id":"61","name":"希望が届くまで","rarity":"SSR","effect_before":"以降、スキルカードが除外に移動した時、好調2ターン ※レッスン中1回 重複不可","effect_after":"以降、スキルカードが除外に移動した時、好調2ターン ※レッスン中1回 重複不可","cost":"8"},{"id":"84","name":"どんな世界でも","rarity":"SSR","effect_before":"パラメータ+7（集中効果を2倍適用） ※レッスン中1回 重複不可","effect_after":"パラメータ+17（集中効果を2倍適用） スキルカード使用回数追加+1 ※レッスン中1回 重複不可","cost":"4"},{"id":"85","name":"朝が満たすまで","rarity":"SSR","effect_before":"好調消費2ターン 集中+3 3ターン後、好調5ターン 4ターン後、スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"好調消費2ターン 集中+5 3ターン後、好調7ターン 4ターン後、スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"0"},{"id":"86","name":"自己肯定感爆上げ↑↑","rarity":"SSR","effect_before":"体力消費3 以降、メンタルスキルカード使用時、集中+2 ※レッスン中1回 重複不可","effect_after":"体力消費2 集中+1 以降、メンタルスキルカード使用時、集中+2 ※レッスン中1回 重複不可","cost":"0"},{"id":"87","name":"奥義、受け流し！","rarity":"SSR","effect_before":"パラメータ+4 集中が15以上の場合、次のターンパラメータ+4（好調効果を2倍適用） 好調が12ターン以上の場合、2ターン後、パラメータ+4（集中効果を2倍適用） ※レッスン中1回 重複不可","effect_after":"※レッスン中1回 重複不可 見つけた世界で\\t【強化前】 元気-4、好調の100%分集中増加 ※レッスン中1回 重複不可 【強化後】 元気-1、好調の100%分集中増加 ※レッスン中1回 重複不可","cost":"0"},{"id":"88","name":"見つけた世界で","rarity":"SSR","effect_before":"元気-4、好調の100%分集中増加※レッスン中1回 重複不可","effect_after":"元気-1、好調の100%分集中増加※レッスン中1回 重複不可","cost":"4"},{"id":"89","name":"ほぐれるひととき","rarity":"SSR","effect_before":"3ターン目以降の場合、使用可、集中増加量増加+50%(3ターン)好調状態の場合、次のターン、集中+4 ※レッスン中1回 重複不可","effect_after":"※レッスン中1回 重複不可","cost":"0"},{"id":"90","name":"世界一の勇気","rarity":"SSR","effect_before":"元気-3、好調の1100%分パラメーター上昇させ、好調を0にする ※レッスン中1回 重複不可","effect_after":"好調の1100%分パラメーター上昇させ、好調を0にする ※レッスン中1回 重複不可","cost":"3"},{"id":"91","name":"かましちゃえ♪","rarity":"SSR","effect_before":"好調3ターン、絶好調2ターン、絶好調が5ターン以上の場合、好調の350%分パラメーター上昇 ※重複不可","effect_after":"好調3ターン、絶好調2ターン、絶好調が5ターン以上の場合、好調の350%分パラメータ上昇 ※重複不可","cost":"3"},{"id":"92","name":"天賦の才","rarity":"SSR","effect_before":"好調+3 集中+2 ランダムな山札か捨札にあるスキルカード（SSR）3枚を山札の一番上に移動 次のターン、スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"コストが体力-4に変更 好調4ターン 集中+3 ランダムな山札か捨札にあるスキルカード（SSR）3枚を山札の一番上に移動 次のターン、スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"0"},{"id":"96","name":"もうためらわない","rarity":"SSR","effect_before":"以降、直接効果で集中が7以上増加後、パラメーター+12（集中効果を1.5倍適用） ※レッスン中1回 重複不可","effect_after":"体力-3 ※レッスン中1回 重複不可","cost":"0"},{"id":"97","name":"ちょちょいのちょい","rarity":"SSR","effect_before":"好調2ターン 以降の3ターンの間、ターン終了時、パラメータ+4 ※レッスン中1回 重複不可","effect_after":"好調2ターン 以降の5ターンの間、ターン終了時、パラメータ+4 ※レッスン中1回 重複不可 フリー スキルカード\\t効果","cost":"4"}],"SR":[{"id":"32","name":"寄り添う気持ち","rarity":"SR","effect_before":"元気+10 集中+4 ※レッスン中1回 重複不可","effect_after":"元気+12 集中+5 ※レッスン中1回 重複不可","cost":"6"},{"id":"33","name":"勇気の一歩","rarity":"SR","effect_before":"パラメータ+17（集中効果を2倍適用） ※レッスン中1回 重複不可","effect_after":"パラメータ+24（集中効果を2.5倍適用） ※レッスン中1回 重複不可","cost":"3"},{"id":"34","name":"らしさ","rarity":"SR","effect_before":"パラメータ+4 好調状態の場合、集中+3 ※レッスン中1回 重複不可","effect_after":"パラメータ+6 好調状態の場合、集中+4 ※レッスン中1回 重複不可","cost":"0"},{"id":"35","name":"成功への道筋","rarity":"SR","effect_before":"好調消費2ターン 元気+2 集中+7 ※レッスン中1回","effect_after":"好調消費2ターン 元気+4 集中+9 ※レッスン中1回","cost":"0"},{"id":"36","name":"切れた鼻緒が結んだ絆","rarity":"SR","effect_before":"好調4ターン 次のターン、スキルカードを引く ※レッスン中1回 重複不可","effect_after":"好調5ターン 次のターン、スキルカードを2枚引く ※レッスン中1回 重複不可","cost":"3"},{"id":"37","name":"キメ顔で自撮り","rarity":"SR","effect_before":"好調3ターン 集中+2 体力が50%以上の場合、次のターン、スキルカードを引く ※レッスン中1回 重複不可","effect_after":"好調4ターン 集中+3 体力が50%以上の場合、次のターン、スキルカードを引く ※レッスン中1回 重複不可","cost":"4"},{"id":"38","name":"立ち位置チェック","rarity":"SR","effect_before":"集中消費3 パラメータ+25 元気+15 元気増加無効2ターン ※レッスン中1回","effect_after":"集中消費3 パラメータ+40 元気+15 元気増加無効2ターン ※レッスン中1回","cost":"0"},{"id":"39","name":"スポットライト","rarity":"SR","effect_before":"体力消費3 元気+7 好調4ターン","effect_after":"体力消費3 元気+9 好調5ターン","cost":"0"},{"id":"41","name":"一番は譲らない","rarity":"SR","effect_before":"パラメータ+18 好調3ターン ※レッスン中1回 重複不可","effect_after":"パラメータ+25 好調4ターン ※レッスン中1回 重複不可","cost":"6"},{"id":"42","name":"存在感","rarity":"SR","effect_before":"好調消費2ターン 集中+4 +1スキルカード使用数追加+1 ※重複不可","effect_after":"好調消費1ターン 集中+5 +1スキルカード使用数追加+1 ※重複不可","cost":"0"},{"id":"43","name":"意地","rarity":"SR","effect_before":"元気+3 集中+4 ※レッスン中1回","effect_after":"元気+5 集中+5 ※レッスン中1回","cost":"2"},{"id":"44","name":"始まりの合図","rarity":"SR","effect_before":"好調5ターン ※レッスン中1回","effect_after":"好調7ターン ※レッスン中1回","cost":"3"},{"id":"45","name":"静かな意志","rarity":"SR","effect_before":"レッスン開始時手札に入る 集中+3 好調2ターン ※レッスン中1回","effect_after":"レッスン開始時手札に入る 集中+4 好調3ターン ※レッスン中1回","cost":"4"},{"id":"46","name":"願いの力","rarity":"SR","effect_before":"集中+2 以降、Aアクティブスキルカード使用時、集中+1 ※レッスン中1回 重複不可","effect_after":"集中+3 以降、Aアクティブスキルカード使用時、集中+1 ※レッスン中1回 重複不可","cost":"4"},{"id":"47","name":"演出計画","rarity":"SR","effect_before":"絶好調3ターン 以降、Aアクティブスキルカード使用時、固定元気+2 ※レッスン中1回 重複不可","effect_after":"絶好調4ターン 以降、Aアクティブスキルカード使用時、固定元気+2 ※レッスン中1回 重複不可","cost":"3"},{"id":"48","name":"大声援","rarity":"SR","effect_before":"元気+6 好調3ターン ※レッスン中1回","effect_after":"元気+8 好調4ターン ※レッスン中1回","cost":"3"},{"id":"49","name":"眼力","rarity":"SR","effect_before":"元気+6 集中+3 ※レッスン中1回","effect_after":"元気+8 集中+4 ※レッスン中1回","cost":"0"},{"id":"50","name":"シュプレヒコール","rarity":"SR","effect_before":"集中消費3 パラメータ+6 好調2ターン スキルカード使用数追加+1 ※重複不可","effect_after":"集中消費2 パラメータ+6 好調3ターン スキルカード使用数追加+1 ※重複不可","cost":"5"},{"id":"51","name":"スタンドプレー","rarity":"SR","effect_before":"パラメータ+12 元気+7 集中+5 消費体力増加2ターン ※重複不可","effect_after":"パラメータ+12 元気+7 集中+7 消費体力増加2ターン ※重複不可","cost":"5"},{"id":"52","name":"スタートダッシュ","rarity":"SR","effect_before":"パラメータ+30 元気+10 消費体力増加2ターン ※重複不可","effect_after":"パラメータ+40 元気+10 消費体力増加2ターン ※重複不可","cost":"0"},{"id":"53","name":"祝福","rarity":"SR","effect_before":"体力消費4 パラメータ+26 好調1ターン ※レッスン中1回","effect_after":"体力消費4 パラメータ+40 好調1ターン ※レッスン中1回","cost":"0"},{"id":"54","name":"飛躍","rarity":"SR","effect_before":"パラメータ+13 集中が6以上の場合、パラメータ+15 ※レッスン中1回","effect_after":"コストを元気-2に変更 パラメータ+13 集中が6以上の場合、パラメータ+15 ※レッスン中1回","cost":"5"},{"id":"55","name":"情熱ターン","rarity":"SR","effect_before":"パラメータ+11 集中+3","effect_after":"パラメータ+18 集中+4","cost":"6"},{"id":"56","name":"アドリブ","rarity":"SR","effect_before":"パラメータ+5 好調3ターン","effect_after":"パラメータ+9 好調4ターン","cost":"4"},{"id":"57","name":"決めポーズ","rarity":"SR","effect_before":"パラメータ+18 ※レッスン中1回","effect_after":"パラメータ+27 ※レッスン中1回","cost":"3"},{"id":"58","name":"ローン・ウルフ","rarity":"SR","effect_before":"パラメータ+12 集中が3以上の場合、パラメータ+12 ※レッスン中1回 重複不可","effect_after":"コストを元気-2に変更 パラメータ+12 集中が3以上の場合、パラメータ+12 ※レッスン中1回 重複不可","cost":"5"},{"id":"83","name":"気になる","rarity":"SR","effect_before":"集中+4 集中が3以上の場合、次のターン、手札をすべてレッスン中強化 ※レッスン中1回 重複不可","effect_after":"元気-4 集中+5 集中が3以上の場合、次のターン、手札をすべてレッスン中強化 ※レッスン中1回 重複不可","cost":"5"},{"id":"93","name":"破竹の勢い","rarity":"SR","effect_before":"集中+5 以降の3ターンの間、ターン開始時、パラメータ+5 ※好調が8ターン以上の場合、使用可。レッスン中1回 重複不可","effect_after":"集中+7 以降の4ターンの間、ターン開始時、パラメータ+5 ※好調が8ターン以上の場合、使用可。レッスン中1回 重複不可","cost":"2"}],"R":[{"id":"9","name":"初めてのご褒美","rarity":"R","effect_before":"好調3ターン 絶好調2ターン ※レッスン中1回 重複不可","effect_after":"好調4ターン 絶好調2ターン ※レッスン中1回 重複不可","cost":"4"},{"id":"59","name":"初めての地平","rarity":"R","effect_before":"好印象の200%分パラメータ上昇 ※レッスン中1回 重複不可","effect_after":"好印象の250%分パラメータ上昇 ※レッスン中1回 重複不可","cost":"2"},{"id":"60","name":"初めての色","rarity":"R","effect_before":"元気+5 絶好調2ターン ※レッスン中1回 重複不可","effect_after":"元気+5 絶好調3ターン ※レッスン中1回 重複不可","cost":"2"},{"id":"62","name":"エキサイト","rarity":"R","effect_before":"パラメータ+6 絶好調3ターン","effect_after":"パラメータ+10 絶好調4ターン","cost":"4"},{"id":"63","name":"準備運動","rarity":"R","effect_before":"パラメータ+6 集中+2","effect_after":"パラメータ+9 集中+3","cost":"4"},{"id":"65","name":"フレンドリー","rarity":"R","effect_before":"パラメータ+10 集中が6以上の場合、パラメータ+10 ※レッスン中1回 重複不可","effect_after":"パラメータ+12（2回） ※レッスン中1回 重複不可","cost":"6"},{"id":"66","name":"包容力","rarity":"R","effect_before":"パラメータ+2 元気+1 体力回復2 ※レッスン中1回 重複不可","effect_after":"パラメータ+3 元気+4 体力回復2 ※レッスン中1回 重複不可","cost":"0"},{"id":"67","name":"リトル・プリンス","rarity":"R","effect_before":"パラメータ+8 好調状態の場合、パラメータ+3 ※レッスン中1回 重複不可","effect_after":"パラメータ+13 好調状態の場合、パラメータ+5 ※レッスン中1回 重複不可","cost":"3"},{"id":"68","name":"意地っ張り","rarity":"R","effect_before":"パラメータ+7 集中+3 ※レッスン中1回 重複不可","effect_after":"パラメータ+7 集中+5 ※レッスン中1回 重複不可","cost":"6"},{"id":"69","name":"新進気鋭","rarity":"R","effect_before":"パラメータ+17 ※レッスン中1回 重複不可","effect_after":"パラメータ+25 ※レッスン中1回 重複不可","cost":"3"},{"id":"70","name":"深呼吸","rarity":"R","effect_before":"集中+2 集中が3以上の場合、好調3ターン","effect_after":"集中+3 集中が3以上の場合、好調3ターン","cost":"2"},{"id":"71","name":"楽観的","rarity":"R","effect_before":"好調3ターン 好調状態の場合、集中+1","effect_after":"好調4ターン 好調状態の場合、集中+1","cost":"2"},{"id":"72","name":"バランス感覚","rarity":"R","effect_before":"集中+3","effect_after":"元気+1 集中+4","cost":"2"},{"id":"73","name":"トークタイム","rarity":"R","effect_before":"好調状態の場合、使用可 パラメータ+27 ※レッスン中1回","effect_after":"好調状態の場合、使用可 パラメータ+38 ※レッスン中1回","cost":"6"},{"id":"74","name":"勢い任せ","rarity":"R","effect_before":"パラメータ+6 好調状態の場合、集中+3","effect_after":"パラメータ+9 好調状態の場合、集中+4","cost":"4"},{"id":"75","name":"ひと呼吸","rarity":"R","effect_before":"好調3ターン 集中+4 ※レッスン中1回 重複不可","effect_after":"好調4ターン 集中+5 ※レッスン中1回 重複不可","cost":"7"},{"id":"79","name":"軽い足取り","rarity":"R","effect_before":"パラメータ+6 好調2ターン","effect_after":"パラメータ+9 好調3ターン","cost":"4"},{"id":"80","name":"愛嬌","rarity":"R","effect_before":"パラメータ+13","effect_after":"パラメータ+21","cost":"4"},{"id":"81","name":"ハイタッチ","rarity":"R","effect_before":"パラメータ+17（集中効果を1.5倍適用） ※レッスン中1回","effect_after":"パラメータ+23（集中効果を2倍適用） ※レッスン中1回","cost":"4"},{"id":"82","name":"ファンサ","rarity":"R","effect_before":"パラメータ+10","effect_after":"パラメータ+16","cost":"2"},{"id":"94","name":"ペース配分","rarity":"R","effect_before":"パラメータ+3 集中+3 好調+3ターン ※絶好調の場合、使用可。レッスン中1回 重複不可","effect_after":"パラメータ+5 集中+4 好調+4ターン ※絶好調の場合、使用可。レッスン中1回 重複不可","cost":"4"},{"id":"95","name":"初めての神降臨","rarity":"R","effect_before":"集中+2、好調2ターン ※レッスン中1回 重複不可","effect_after":"集中+2、好調3ターン ※レッスン中1回 重複不可","cost":"2"}],"N":[{"id":"64","name":"挑戦","rarity":"N","effect_before":"好調状態の場合、使用可 パラメータ+25 ※レッスン中1回","effect_after":"好調状態の場合、使用可 パラメータ+37 ※レッスン中1回","cost":"7"},{"id":"76","name":"試行錯誤","rarity":"N","effect_before":"パラメータ+8（2回） ※レッスン中1回","effect_after":"コストを元気-10に変更 パラメータ+10（2回） ※レッスン中1回","cost":"7"},{"id":"77","name":"振る舞いの基本","rarity":"N","effect_before":"元気+1 好調2ターン","effect_after":"元気+1 好調3ターン","cost":"1"},{"id":"78","name":"表情の基本","rarity":"N","effect_before":"元気+1集中+2","effect_after":"元気+1集中+3","cost":"1"}]},"自由":{"SSR":[{"id":"1","name":"光のステージ","rarity":"SSR","effect_before":"消費体力削減1 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"コストをなしに変更 消費体力削減1 スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"3"},{"id":"2","name":"ティーパーティ","rarity":"SSR","effect_before":"スキルカード使用数追加+1 手札をすべてレッスン中強化 ※レッスン中1回 重複不可","effect_after":"コストを元気-1に変更 スキルカード使用数追加+1 手札をすべてレッスン中強化 スキルカードを引く ※レッスン中1回 重複不可","cost":"3"},{"id":"3","name":"心のアルバム","rarity":"SSR","effect_before":"パラメータ+3 元気+3 次のターン、スキルカードを引く 2ターン後、スキルカードを引く ※レッスン中1回 重複不可","effect_after":"パラメータ+6 元気+5 次のターン、スキルカードを引く 2ターン後、スキルカードを引く ※レッスン中1回 重複不可","cost":"0"},{"id":"4","name":"陽だまりの生徒会室","rarity":"SSR","effect_before":"体力回復3 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"コストを元気-1に変更 体力回復5 スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"3"},{"id":"5","name":"花萌ゆ季節","rarity":"SSR","effect_before":"ランダムな強化済みスキルカードを、手札に生成 スキルカード使用数追加+1 次のターン、スキルカードを引く ※レッスン中1回 重複不可","effect_after":"コストを元気-1に変更 ランダムな強化済みスキルカードを、手札に生成 スキルカード使用数追加+1 次のターン、スキルカードを引く ※レッスン中1回 重複不可","cost":"4"},{"id":"6","name":"仕切り直し","rarity":"SSR","effect_before":"手札をすべて入れ替える 消費体力減少4ターン スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"コストを元気-2に変更 手札をすべて入れ替える 消費体力減少4ターン スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"5"},{"id":"7","name":"アイドル魂","rarity":"SSR","effect_before":"レッスン開始時手札に入る 元気+6 低下状態無効（1回） スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"レッスン開始時手札に入る 元気+6 低下状態無効（1回） 次のターン、手札をすべてレッスン中強化 スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"2"},{"id":"8","name":"叶えたい夢","rarity":"SSR","effect_before":"体力消費1 元気+8 B消費体力削減1 ※レッスン中1回 重複不可","effect_after":"体力消費1 元気+9 B消費体力削減2 ※レッスン中1回 重複不可","cost":"0"},{"id":"9","name":"テレビ出演","rarity":"SSR","effect_before":"元気+3 消費体力減少4ターン ※レッスン中1回 重複不可","effect_after":"元気+5 消費体力減少5ターン ※レッスン中1回 重複不可","cost":"1"},{"id":"10","name":"新生徒会爆誕！","rarity":"SSR","effect_before":"レッスン開始時手札に入る 消費体力減少2ターン スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"コストを元気-4に変更 レッスン開始時手札に入る 消費体力減少4ターン スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"5"},{"id":"11","name":"紅葉ランニング","rarity":"SSR","effect_before":"低下状態無効1回 スキルカードを引く スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"低下状態無効1回 スキルカードを2枚引く スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"1"},{"id":"12","name":"みずたまりスキップ","rarity":"SSR","effect_before":"体力消費1 元気+3 スキルカード使用数追加+1 ※レッスン中1回 重複不可","effect_after":"体力消費1 元気+8 スキルカード使用数追加+1 ※レッスン中1回 重複不可","cost":"0"},{"id":"13","name":"薄れゆく壁","rarity":"SSR","effect_before":"元気＋3 次のターン、手札をすべてレッスン中強化 2ターン後、手札を全てレッスン中強化 ※レッスン中1回 重複不可","effect_after":"コストを元気-2に変更 元気＋3 次のターン、手札をすべてレッスン中強化 2ターン後、手札を全てレッスン中強化 ※レッスン中1回 重複不可","cost":"5"}],"SR":[{"id":"14","name":"旬の味わい","rarity":"SR","effect_before":"パラメータ+4(2回) 次のターン、手札を全てレッスン中強化 レッスン中1回 重複不可 ※レッスン中1回 重複不可","effect_after":"パラメータ+6(2回) 次のターン、手札を全てレッスン中強化 ※レッスン中1回 重複不可","cost":"5"},{"id":"15","name":"前途洋々","rarity":"SR","effect_before":"パラメータ+8 元気+7","effect_after":"パラメータ+12 元気+10","cost":"4"},{"id":"16","name":"アイドル宣言","rarity":"SR","effect_before":"体力消費1 スキルカード使用数追加+1 スキルカードを2枚引く ※レッスン中1回 重複不可","effect_after":"体力消費を0に変更 スキルカード使用数追加+1 スキルカードを2枚引く 消費体力減少1ターン ※レッスン中1回 重複不可","cost":"0"},{"id":"17","name":"ハイテンション","rarity":"SR","effect_before":"元気+11 元気増加無効2ターン 消費体力減少3ターン ※レッスン中1回","effect_after":"元気+13 元気増加無効2ターン 消費体力減少4ターン ※レッスン中1回","cost":"0"},{"id":"18","name":"お姉ちゃんだもの！","rarity":"SR","effect_before":"レッスンCLEARの100%以下の場合、使用可 パラメータ+6 元気+6 次のターン、スキルカードを引く ※レッスン中1回 重複不可","effect_after":"レッスンCLEARの100%以下の場合、使用可 パラメータ+10 元気+9 次のターン、スキルカードを引く ※レッスン中1回 重複不可","cost":"3"},{"id":"19","name":"おアツイ視線","rarity":"SR","effect_before":"元気が0の場合、使用可 元気+5 消費体力減少2ターン 次のターン、スキルカードを引く ※レッスン中1回 重複不可","effect_after":"元気が0の場合、使用可 元気+6 消費体力減少3ターン 次のターン、スキルカードを引く ※レッスン中1回 重複不可","cost":"0"},{"id":"20","name":"ご指導ご鞭撻","rarity":"SR","effect_before":"体力が50%以上の場合、使用可 パラメータ+4 元気+5 次のターン、手札をすべてレッスン中強化 ※レッスン中1回 重複不可","effect_after":"コストを元気-2に変更 体力が50%以上の場合、使用可 パラメータ+4 元気+5 次のターン、手札をすべてレッスン中強化 ※レッスン中1回 重複不可","cost":"5"},{"id":"21","name":"ストレッチ談義","rarity":"SR","effect_before":"3ターン目以降の場合、使用可 パラメータ+3 消費体力減少2ターン 次のターン、手札をすべてレッスン中強化 ※レッスン中1回 重複不可","effect_after":"コストをなしに変更 3ターン目以降の場合、使用可 パラメータ+3 消費体力減少2ターン 次のターン、手札をすべてレッスン中強化 ※レッスン中1回 重複不可","cost":"3"},{"id":"22","name":"全力サポート","rarity":"SR","effect_before":"スキルカード使用数追加+1 次のターン、スキルカードを引く ※レッスン中1回 重複不可","effect_after":"コストをなしに変更 スキルカード使用数追加+1 次のターン、スキルカードを2枚引く ※レッスン中1回 重複不可","cost":"2"}],"R":[{"id":"23","name":"ファーストステップ","rarity":"R","effect_before":"元気+3 体力が50%以上の場合、消費体力削減1 ※レッスン中1回 重複不可","effect_after":"元気+6 体力が50%以上の場合、消費体力削減1 ※レッスン中1回 重複不可","cost":"0"},{"id":"24","name":"気合十分！","rarity":"R","effect_before":"元気+2 消費体力減少2ターン","effect_after":"元気+2 消費体力減少3ターン","cost":"0"}],"N":[{"id":"26","name":"表現の基本","rarity":"N","effect_before":"元気+4 ※レッスン中1回","effect_after":"元気+7 ※レッスン中1回","cost":"0"},{"id":"27","name":"ポーズの基本","rarity":"N","effect_before":"パラメータ+2 元気+2","effect_after":"パラメータ+6 元気+4","cost":"3"},{"id":"28","name":"アピールの基本","rarity":"N","effect_before":"パラメータ+9","effect_after":"パラメータ+14","cost":"4"}],"陷阱卡":[{"id":"25","name":"眠気","rarity":"陷阱卡","effect_before":"使っても何も効果がないお邪魔カード ※レッスン中1回","effect_after":"強化なし ※レッスン中1回","cost":"0"}]}}');class d{static parseAllCards(e=!1){const t=[];for(const[r,a]of Object.entries(n))for(const[f,c]of Object.entries(a))for(const a of c){const f=this.parseCard(a,r,e);f&&t.push(f)}return t}static getCardsByAttribute(e,t=!1){const r=[],a=n[e];if(!a)return r;for(const[f,c]of Object.entries(a))for(const a of c){const f=this.parseCard(a,e,t);f&&r.push(f)}return r}static getCardsByRarity(e,t=!1){const r=[];for(const[a,f]of Object.entries(n)){const c=f[e];if(c)for(const e of c){const f=this.parseCard(e,a,t);f&&r.push(f)}}return r}static getRandomCards(e,t=!1){return this.parseAllCards(t).sort(()=>Math.random()-.5).slice(0,e)}static parseCard(e,t,r){try{const a=r?e.effect_after:e.effect_before,f=this.parseEffects(a,t),c=this.determineCardType(a),s=a.includes('重複不可')||a.includes('レッスン中1回'),i=-Math.abs(parseInt(e.cost)||0),o=this.determineCostType(a),n=`${t}_${e.rarity}_${e.id}${r?'_enhanced':''}`,d=`https://raw.githubusercontent.com/2426269/shinycolors-assets-cdn/main/技能卡卡面/${e.name}.webp`;return{id:n,name:e.name,rarity:e.rarity,type:c,attribute:t,cost:i,costType:o,unique:s,enhanced:r,limitPerLesson:s?1:null,usedThisLesson:0,effects:f,description:a,imageUrl:d,source:'official'}}catch(t){return console.error('[SkillCardParser] Error parsing card:',e.name,t),null}}static parseEffects(e,t){const r=[],a=e.match(/パラメータ\+(\d+)/g);if(a)for(const e of a){const t=parseInt(e.match(/\d+/)[0]);r.push({type:'add_score',value:t})}const f=e.match(/元気\+(\d+)/);f&&r.push({type:'gain_genki',value:parseInt(f[1])});const c=e.match(/体力回復(\d+)/);c&&r.push({type:'recover_stamina',value:parseInt(c[1])});const s=e.match(/全力値\+(\d+)/);s&&r.push({type:'add_all_power',value:parseInt(s[1])});const i=e.match(/スキルカードを(\d+)枚引く/);i&&r.push({type:'draw_cards',value:parseInt(i[1])});const o=e.match(/スキルカード使用数追加\+(\d+)/);if(o&&r.push({type:'add_card_uses',value:parseInt(o[1])}),e.includes('温存に変更')){const t=e.includes('温存2段階目')?2:1;r.push({type:'switch_anomaly_state',metadata:{newState:'conserve',level:t}})}if(e.includes('強気に変更')||e.includes('強気2段階目')){const t=e.includes('強気2段階目')?2:1;r.push({type:'switch_anomaly_state',metadata:{newState:'resolute',level:t}})}if(e.includes('消費体力減少')){const t=e.match(/消費体力減少(\d+)ターン/),a=t?parseInt(t[1]):3;r.push({type:'add_buff',metadata:{type:'体力消耗减少',duration:a}})}return 0===r.length&&r.push({type:'add_score',value:10,metadata:{rawText:e}}),r}static determineCardType(e){return e.includes('陷阱')||e.includes('トラップ')?'T':e.includes('好調')||e.includes('集中')||e.includes('好印象')||e.includes('消費体力減少')?'M':'A'}static determineCostType(e){return e.includes('消費体力')||e.includes('体力消費')?'stamina_only':'normal'}static mapAttributeToVDV(e){switch(e){case'感性':case'自由':default:return'vocal';case'理性':return'dance';case'非凡':return'visual'}}static getStatistics(){const e=this.parseAllCards(!1),t={},r={};for(const a of e)t[a.attribute]=(t[a.attribute]||0)+1,r[a.rarity]=(r[a.rarity]||0)+1;return{totalCards:e.length,byAttribute:t,byRarity:r}}}function u(){return d.parseAllCards(!1)}function m(){return d.parseAllCards(!0)}function b(){const e=d.getCardsByRarity('N',!1),t=d.getCardsByRarity('R',!1),r=[],a=e.sort(()=>Math.random()-.5);r.push(...a.slice(0,20));const f=t.sort(()=>Math.random()-.5);return r.push(...f.slice(0,10)),r}function l(){const e=d.getCardsByRarity('SR',!1),t=d.getCardsByRarity('SSR',!1),r=d.getCardsByRarity('R',!1),a=[],f=t.sort(()=>Math.random()-.5);a.push(...f.slice(0,5));const c=e.sort(()=>Math.random()-.5);a.push(...c.slice(0,10));const s=r.sort(()=>Math.random()-.5);return a.push(...s.slice(0,15)),a}export{r as AttributeManager,o as BattleController,a as BuffManager,c as BuffPresets,e as EventBus,t as GameEvents,f as ResourceManager,i as SkillCardExecutor,d as SkillCardParser,l as createAdvancedDeck,s as createBuff,b as createStarterDeck,m as getAllEnhancedSkillCards,u as getAllSkillCards};
//# sourceMappingURL=index.js.map